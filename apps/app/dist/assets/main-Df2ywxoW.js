(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();let c,d,A,p,gt,w=null,B=null;const Qe=[{name:"Low (640x480)",width:640,height:480},{name:"Medium (1280x720)",width:1280,height:720},{name:"High (1920x1080)",width:1920,height:1080},{name:"Ultra (2560x1440)",width:2560,height:1440}];let ie=0;const hn="r1_camera_resolution",Jt=[{name:"Auto",value:"auto"},{name:"Daylight",value:"daylight"},{name:"Cloudy",value:"cloudy"},{name:"Tungsten",value:"tungsten"},{name:"Fluorescent",value:"fluorescent"},{name:"Candlelight",value:"candlelight"},{name:"Moonlight",value:"moonlight"}];let Me=0;const gn="r1_camera_white_balance";let R=0,I=[],zt=!1,C=1,Ge=!1,en=0,tn=1,me=!1,j=5,et=500,Ut=!1;const Pe={1:{delay:800,label:"Slow"},2:{delay:500,label:"Medium"},3:{delay:300,label:"Fast"}},pn="r1_camera_burst_settings",fn="r1_camera_timer_settings",yn="r1_camera_last_preset";let Te=!1,se=null,Z=10,De=!1,bn=[3,5,10],tt=1;const Ke={1:{seconds:1,label:"1s"},2:{seconds:3,label:"3s"},3:{seconds:5,label:"5s"},4:{seconds:10,label:"10s"},5:{seconds:30,label:"30s"},6:{seconds:60,label:"1m"},7:{seconds:300,label:"5m"},8:{seconds:600,label:"10m"},9:{seconds:1800,label:"30m"},10:{seconds:3600,label:"1h"}};let V="",le=!1;const vn="r1_camera_master_prompt",wn="r1_camera_master_prompt_enabled";let Be=!1,X=!1,mt=null,ae=null,Re=30,Xt=.1,Ie=!0,Oe=2,ct=!1,Le=3;const Tn="r1_camera_motion_settings";let Ve=null;const We={1:{seconds:3,label:"3s"},2:{seconds:10,label:"10s"},3:{seconds:30,label:"30s"},4:{seconds:60,label:"1m"},5:{seconds:300,label:"5m"},6:{seconds:600,label:"10m"},7:{seconds:900,label:"15m"},8:{seconds:1800,label:"30m"}};let P=!1;const En="r1_camera_no_magic_mode";let je,qt,Fe=null,N=0,D=!1,fe=!1,Q=!1,H=0,_=0,$=0,z=!1,at=!1,kt=!1,It=!1,xt=!1,St=!1,He=!1,oe=0;const Xn="R1CameraGallery",Zn=1,pe="images";let G=null,S=[];const kn="r1_gallery_sort_order";let q=-1,W=1,dt=!1,an=0,nn=1,U=1;const ht=16;let _e=null,$e=null,Je="newest",ge=!1,x=new Set,At=!1,re=[],pt=null,ue="",ft="",_t=0;const Qn=[{name:"IMPRESSIONISM",message:"Take a picture and transform the image into a French Impressionist painting. Preserve subject identity. Use loose, visible brushstrokes, soft edges, and blended colors emphasizing natural light and atmosphere. Painterly oil-on-canvas texture with warm, luminous tones."},{name:"3D PRINT FAILED",message:`Take a picture and transform the subject into a real, physical 3D-printed object that has partially failed during printing. The subject must appear made from plastic filament with clearly visible horizontal layer lines across the entire surface.

Introduce obvious 3D-printing failures such as warped or shifted layers, missing sections, drooping filament, collapsed overhangs, stringing, and incomplete geometry as if the print stopped or misaligned mid-job.

The subject should appear as a photographed 3D print sitting on a workbench or print bed, with realistic shadows, shallow depth of field, and neutral lighting. Use a single solid filament color or limited two-color print. Avoid smooth, sculpted, or digital-rendered surfaces. The final image must clearly look like a failed physical 3D print, not a CGI model or statue.`},{name:"AI-BUY",message:"Analyze the image and identify purchasable items. Provide product names, estimated prices, and purchase links. Present results in a clean, structured list and email it to me."},{name:"AI-IDENTIFY",message:"Analyze the image in detail. Identify people, objects, environment, actions, expressions, and context. Provide a comprehensive, factual description without speculation and email it to me."},{name:"AI-SUMMARIZE",message:"Analyze the image and provide a comprehensive summary of what is depicted, including context, activity, and notable visual details and email it to me."},{name:"AI-TRANSLATE",message:"Analyze the image and detect any visible text in the image and translate it accurately into English. Preserve formatting where possible and email it to me."},{name:"A WHO",message:"Take a picture and make the subject into a Who from Whoville from Dr. Seuss. Make it photorealistic."},{name:"ABSTRACT ART",message:"Take a picture in the style of Abstract Modern Art. Non-representational shapes, bold composition."},{name:"ABSTRACT EXPRESSIONISM",message:"Take a picture and transform the image into Abstract Expressionist style. Energetic splatters, layered textures, and dynamic forms while subject partially visible."},{name:"ACCIDENT SCENE",message:`Take a picture and transform the main subject so it appears to have recently been involved in an accident. Preserve the original subject while adding realistic damage appropriate to its type.

Examples include:
‚Ä¢ A car with dents, cracked lights, bent panels, or deployed airbags
‚Ä¢ A bicycle with twisted wheels, scraped paint, or a broken chain
‚Ä¢ A scooter, skateboard, or similar object with visible impact damage

Add subtle environmental clues such as skid marks, fallen debris, or disturbed surroundings when appropriate. The final image should look like a realistic aftermath photo, and remain clear on small screens.`},{name:"ADVERTISEMENT",message:"Take a picture and transform it into a polished magazine-style advertisement while preserving clear facial likeness and identity of the subject. Present the subject naturally holding, wearing, or interacting with the featured product as the central focus of the ad. Primary information source: If product details are provided via externally supplied information, showcase that product accurately as the main advertised item. Incorporate the product‚Äôs name, type, and defining qualities into the visual presentation, slogan, and flavor text without altering or misrepresenting the product. Secondary enhancement: If no product details are externally provided, infer a plausible featured product based on what the subject is visibly holding, wearing, or using. If inference is required, keep the product generic and clearly implied rather than naming a specific real-world brand. Design the final image as a compact, mobile-friendly magazine advertisement layout optimized for small screens. Include a bold, high-contrast headline or slogan, a short block of engaging flavor text, and subtle supporting copy if space allows. Ensure all text is legible at small sizes with clean spacing and strong visual hierarchy. Use flattering, high-quality lighting, refined composition, and a modern editorial aesthetic. Maintain visual clarity, balanced framing, and an immediately recognizable advertising look. The result should be a full view of the page with a relevant background behind the page."},{name:"AFRICAN TRIBAL MASK",message:"Take a picture and transform the image into African tribal mask art. Simplify facial features, use bold geometric shapes, earthy colors, carved-wood textures, and ceremonial symbolism while keeping the subject recognizable."},{name:"ALIEN",message:"Take a picture and transform the subject into an alien being while preserving the subject‚Äôs core facial structure and identity. Introduce extraterrestrial traits such as altered skin color or texture, subtle bioluminescence, unusual eyes, or refined anatomical variations that still clearly resemble the subject. Place the subject naturally into a sci-fi environment such as an alien world, spacecraft interior, or futuristic city. Match lighting, perspective, and atmospheric effects so the subject appears genuinely part of the scene. Render the final image with photorealistic sci-fi realism and cinematic depth."},{name:"ALIENS",message:"Take a picture and place the subject in a scene from the movie Aliens. Dark sci-fi realism. Make it photorealistic."},{name:"ALTER EGO",message:"Take a picture and transform the image to reveal an alternate version of the subject. Same facial identity, different personality and visual style."},{name:"AMBIGRAM",message:"Take a picture of the given text and create a true ambigram that reads exactly the same when viewed upside-down (rotated 180 degrees). Use creative typography and design, but do not mirror, flip, or distort the letters in a way that changes the readable order. Randomize styles, fonts, and decorative elements for each attempt, but ensure the text is fully legible and maintains identical meaning when inverted. Include only the ambigram in the image, no extra text or captions."},{name:"AMERICAN GOTHIC",message:"Take a picture and recreate the classic painting American Gothic. Replace one figure in the painting with the subject. If the subject is male, replace the male figure. If the subject is female, replace the female figure. If two subjects are present, replace both figures accordingly. Preserve the iconic composition, clothing style, background, and serious tone of the original artwork while integrating the subject naturally. The final image should be instantly recognizable as American Gothic with a humorous modern twist."},{name:"ANAMORPHIC ART",message:"Take a picture and create an anamorphic image that appears distorted unless viewed from a specific angle. Correct perspective reveals the subject."},{name:"ANDY WARHOL",message:"Take a picture in the style of Andy Warhol. Pop Art with the use of four duplicated images in a frame."},{name:"AOL AIM PROFILE",message:"Take a picture and transform it into a tiny, low-resolution AOL Instant Messenger profile photo. Crop awkwardly, reduce detail, and add heavy compression. The subject should remain recognizable but pixelated and informal."},{name:"ARCHEOLOGICAL PHOTO",message:"Take a picture and transform it into an archeological field documentation sheet. Include a large, visible photograph of the subject as the central element, printed on aged paper. The photo should appear weathered, sun-faded, dusty, and slightly warped, as if it has been exposed at an excavation site for weeks. Identify the subject‚Äôs species or type using scientific or pseudo-scientific labeling. Add subtle field notes, specimen numbers, scale bars, and catalog markings around the photo. The final image should feel like an authentic archeological record centered around the photograph."},{name:"ARCHITECTURAL SCALE MODEL",message:"Take a picture and convert the scene into an architectural scale model. Subjects and objects should appear as miniature figurines within a foam-board or plastic model environment. Use clean edges, painted surfaces, and overhead lighting typical of design studios. Maintain proportional scale across all elements."},{name:"ARCHIVED PHOTO",message:"Take a picture and transform it into a damaged archival photograph. Add scratches, dust, faded tones, and slight warping. Portions of the image may be torn, stained, or missing. Use muted sepia or desaturated colors. The subject should feel historical, fragile, and partially lost to time."},{name:"ART BRUT",message:"Take a picture and transform the image into Art Brut (outsider art) style painting. Use raw lines, naive proportions, uneven coloring, and spontaneous visual energy while preserving the subject."},{name:"ART DECO",message:"Take a picture and transform the image into Art Deco poster style. Bold geometric shapes, metallic or pastel palette, stylized subject, decorative typography optional."},{name:"ART NOUVEAU",message:"Take a picture and transform the image into a into an Art Nouveau illustration. Preserve the subject's identity, facial features, proportions, and pose. Use flowing, organic lines inspired by natural forms such as vines, flowers, and hair. Emphasize elegant curves, ornamental borders, and rhythmic linework. Flat or softly shaded color areas with muted, harmonious palettes. Decorative background integrated into the composition rather than separate. Poster-like composition inspired by Alphonse Mucha and late 19th-century European Art Nouveau. Painterly illustration style, not photorealistic. No modern elements, no Art Deco geometry, no hard angles."},{name:"ASCII ART",message:"Take a picture and render it in ASCII format, where shapes and tones are created using punctuation and letters and using only keyboard characters to form the image. Built entirely from text characters, using letters, numbers, and symbols arranged in clever patterns. The image has a retro, digital feel, like something you would see on an old computer screen or printed in a vintage tech lab."},{name:"ASHCAN SCHOOL",message:"Take a picture and transform the image into an Ashcan School style painting. Gritty realism, urban atmosphere, loose brushwork, and muted tones. Subject feels candid and grounded."},{name:"AUSTRALIAN ABORIGINAL DOT PAINTING",message:"Take a picture and transform the image into Aboriginal dot painting style. Use dot patterns, symbolic shapes, earthy palettes, and rhythmic repetition while preserving the subject‚Äôs silhouette."},{name:"AVATAR",message:"Take a picture and transform the subject into a realistic Na‚Äôvi character from the movie Avatar. Preserve the subject‚Äôs recognizable facial structure, eye shape, expressions, body proportions, and personality while adapting them to authentic Na‚Äôvi anatomy‚Äîtall, slender physique, elongated limbs, blue bioluminescent skin with natural striping, feline nose structure, large expressive eyes, pointed ears, and long braided hair with neural queue. Translate the subject‚Äôs clothing and accessories into culturally accurate Na‚Äôvi attire and materials. Match the exact cinematic lighting, color grading, skin translucency, subsurface scattering, and environmental interaction seen in Avatar. The subject must appear fully native to Pandora, not human-painted blue, with realistic scale, shadows, and immersion in the world."},{name:"BALLOON",message:"Take a picture in the style of a balloon animal or character.  Shiny latex texture."},{name:"BARBIE WORLD",message:`Take a picture and transform the entire scene into a bright, stylized Barbie World composed entirely of physical toys.

Analyze the subject and environment and apply the following transformations:

‚Ä¢ If the primary subject appears feminine, transform them into a Barbie doll.
‚Ä¢ If the primary subject appears masculine, transform them into a Ken doll.

The doll‚Äôs face should retain the subject‚Äôs recognizable facial structure, proportions, and expression, but be rendered with smooth plastic skin, simplified features, glossy eyes, and the polished look of a physical Barbie or Ken toy.

Environmental logic:
‚Ä¢ If the scene appears indoors, place the subject inside a Barbie Dreamhouse interior with pastel-colored plastic furniture, toy-like proportions, and miniature physical details.
‚Ä¢ If the scene appears outdoors, place the subject inside or next to a Barbie convertible with realistic toy textures, bright colors, and a glossy finish.

Use high-key lighting, realistic toy textures, reflections, and scale consistency to ensure the subject and environment appear as physical toys rather than drawings or digital illustrations. Keep the composition bold, cheerful, and clearly readable on small screens.`},{name:"BAROQUE",message:"Take a picture in the style of Baroque painting. Dramatic lighting, deep contrasts, dynamic composition, ornate details, and theatrical visual richness."},{name:"BAUHAUS",message:"Take a picture and transform the image into Bauhaus style art. Reduce the subject to functional geometric forms, clean lines, primary colors, and minimal composition."},{name:"BBS DOWNLOAD",message:`Take a picture and transform it into the experience of a slow-loading 1990s internet image over a dial-up connection. Render the image as if it is partially downloaded, frozen mid-load, or failing to fully render. Randomly select and display exactly ONE of the following on-screen status messages, styled in a simple early-web or system monospace font:
‚Ä¢ "Stuck at 87%"
‚Ä¢ "Connection Lost"
‚Ä¢ "Retrying‚Ä¶"
‚Ä¢ "Image Failed to Load (Alt Text Only)"
‚Ä¢ "Low Bandwidth Mode"

Visually reflect the selected status message in the image rendering:
- If partially loaded, reveal only sections of the image using horizontal loading bands, blocky color fills, or coarse pixel previews.
- If failed, leave large portions blank, replaced by placeholder space, broken image icons, or alt-text-style text.
- If retrying, show uneven clarity with duplicated or misaligned segments. Preserve the subject‚Äôs recognizable features even when incomplete. Simulate authentic early-internet artifacts such as compression noise, color banding, abrupt resolution jumps, and unstable alignment. Include a minimal progress indicator or percentage counter when appropriate, ensuring all text is large and legible on small screens. The final image should feel frozen in time‚Äînostalgic, frustrating, and unmistakably mid-download.`},{name:"BIBLICAL ILLUSTRATION",message:"Take a picture in the style of a Medieval Biblical illustration. Illuminated manuscript style.  The result should be a full view of the illustration with a relevant background behind the illustration."},{name:"BILLBOARD",message:"Take a picture and transform it into a large outdoor billboard featuring the subject. Include a clearly readable humorous headline and a calling number that can be appended via an external master prompt. The billboard should appear photographed from the street, with realistic perspective, lighting, shadows, and surrounding environment (sky, buildings, street). Ensure the subject is integrated naturally into the billboard image, and the text and number are large and legible even on a small screen."},{name:"BIRTHDAY CARD",message:"Take a picture and transform it into a polished birthday greeting card design. Place the subject as the centerpiece of the card, integrated naturally into a celebratory scene with decorations such as balloons, streamers, confetti, or candles appropriate to the birthday theme. Generate a warm, fun, or heartfelt birthday message using flavor text inspired by the subject‚Äôs appearance, personality, and surroundings. Incorporate any externally provided birthday details naturally into the design. Ensure the full birthday message is clearly visible within the image. The final result should look like a professionally designed greeting card with cohesive layout, festive lighting, and joyful atmosphere.  The result should be a full view of the card with a relevant background behind the card."},{name:"BLADE RUNNER",message:"Take a picture and transform the image into a Blade Runner-inspired cinematic scene. Rain-soaked neon city, fog, reflections. High contrast, cyber-noir lighting. Photorealistic sci-fi atmosphere."},{name:"BLUEPRINT",message:"Take a picture and transform the image into a blueprint technical drawing. White linework on blue background. Precise, schematic style."},{name:"BODY TYPE INVERSION",message:"Take a picture and transform the subject into a contrasting physique while preserving the subject‚Äôs recognizable facial structure, identity, posture, and personality. Adjust overall body proportions in a realistic and natural way, maintaining anatomical plausibility, balanced proportions, and consistent lighting. Adapt clothing to fit the updated physique naturally. Ensure the subject remains clearly identifiable and fully integrated into the scene, rendered with photorealistic detail."},{name:"BOKEH PHOTOGRAPHY",message:"Take a picture in the style of Bokeh photography. Give it the aesthetic quality of the blur in the out-of-focus areas of a photograph with soft, circular light spots. Wide aperture and a fast lens, with the subject at a different focal plane from the background. Creates a shallow depth of field, blurring the background to make the subject stand out and adding a dreamy or artistic quality to the image."},{name:"BREAKING NEWS",message:"Take a picture and transform it into a realistic breaking-news television broadcast scene. Place the subject as the central focus of the news coverage, integrated naturally into the scene. Design an authentic news layout including lower-third graphics, headline banners, and on-screen text. Generate a breaking-news headline and brief caption using flavor text inspired by the subject‚Äôs appearance, actions, or surroundings, incorporating any externally provided details naturally. Ensure all text is clearly readable within the image. Match professional broadcast lighting, camera angles, and visual polish so the image convincingly resembles a real live news report."},{name:"BUMPER STICKER",message:"Take a picture and place a realistic bumper sticker on a car or object featuring the subject. The sticker should contain a humorous saying based on the subject‚Äôs traits, which can be supplied via external master prompt. Ensure the sticker looks physically attached, with correct perspective, lighting, texture, and slight surface curvature. The subject should be recognizable in the sticker image if included, and the overall composition should read instantly as a real bumper sticker."},{name:"BUT CAN IT PLAY DOOM?",message:"Take a picture and transform the subject into a classic early-1990s first-person shooter space marine rendered as a low-resolution pixel-art sprite. Preserve recognizable facial features, body proportions, and clothing identity while adapting them into a gritty, combat-ready sprite suitable for pseudo-3D FPS gameplay. Render the subject using chunky pixel shading, a limited retro color palette, visible dithering, and a forward-facing or slightly angled sprite orientation typical of early PC shooters. The character must appear natively integrated into the scene, not composited. Compose the image as a static gameplay frame from a first-person shooter perspective inside a dark industrial sci-fi environment with metallic corridors, harsh lighting, and ominous atmosphere. Include a bottom-of-screen retro FPS status interface featuring generic numeric indicators for health, armor, and ammunition, along with a small pixel-art player portrait that reflects the subject‚Äôs condition. Ensure the entire image reads clearly as a single authentic gameplay screenshot from a 1990s-era PC shooter, with crisp pixel edges, strong silhouette clarity, and cohesive retro aesthetics optimized for small screens."},{name:"BYZANTINE ICONOGRAPHY",message:"Take a picture and transform the image into a Byzantine-style religious icon. Place the subject in the center with a gilded halo, frontal pose, and flat symbolic colors. Add ornamental borders. The subject remains recognizable while adopting the solemn, formal, and spiritual style."},{name:"CANDY",message:"Take a picture and make everything made out of candy. Glossy sweets, playful textures."},{name:"CARICATURE",message:"Take a picture and make it a caricature. Defined by exaggerated features, bold expressions, and a humorous twist while preserving likeness. It captures the essence of a person or scene in a fun, over-the-top way, like something you would get from a street artist at a fair, bursting with personality and charm."},{name:"CELTIC ART",message:"Take a picture and convert it into a Celtic art piece inspired by the Book of Kells; highly detailed, intricate knotwork, flowing lines, and mystical geometry with the visual language of ancient Celtic art; ornate patterns and symbolic forms."},{name:"CERAMIC FIGURINE",message:"Take a picture and transform the subject into a small ceramic figurine. The subject should appear glazed, hand-painted, and slightly imperfect, like a decorative shelf figurine. Use realistic reflections, chips, and glaze texture so it looks like a real ceramic object photographed on a table or shelf."},{name:"CERAMIC TILE",message:"Take a picture and convert the image into painted ceramic tiles. Glossy glaze, repeating patterns."},{name:"CHARACTER BOARD",message:"Take a picture and transform it into a classic tourist character board photo. Place the subject‚Äôs face inside a cut-out hole of a painted character illustration, while the rest of the body is a flat, illustrated scene. The board may depict a humorous, heroic, historical, or themed character. Align the subject‚Äôs face naturally with the cut-out and slightly exaggerate expression for comedic effect. The painted board should look weathered or hand-painted, as if found at a tourist attraction. The final image should feel playful, kitschy, and instantly recognizable as a face-in-the-hole photo."},{name:"CHARCOAL",message:"Take a picture and convert the image into a detailed charcoal sketch. Rich grayscale tones, textured shading, and expressive strokes on paper."},{name:"CHILDHOOD VERSION",message:"Take a picture and depict the subject as a child while preserving recognizable traits. Soft lighting, nostalgic tone."},{name:"CHILD SKETCH ARTIST",message:"Take a picture and make the subject look like a childlike black and white sketch using simple shapes as if drawn by a six year old."},{name:"CHINESE INK WASH",message:"Take a picture and transform the image into a traditional Chinese ink wash painting. Use flowing brushstrokes, monochrome tones, soft gradients, and poetic negative space."},{name:"CHOCOLATE SCULPTURE",message:`Take a picture and transform the subject into a sculpted chocolate figure. The chocolate should appear glossy, slightly textured, and solid, with realistic reflections and subtle imperfections from molding.

Include a clearly visible bite taken from the subject, showing the inner texture of the chocolate. Preserve the subject‚Äôs recognizable facial structure and details through the chocolate form while maintaining realistic thickness and volume.

The subject should appear as a real chocolate sculpture placed on a surface, with appropriate shadows and lighting. Avoid CGI or drawn appearance. Ensure the composition is readable on a small screen and the chocolate looks physically edible.`},{name:"CINEMATIC HORROR",message:"Take a picture and transform the subject into a cinematic horror character while preserving the subject‚Äôs recognizable facial structure, body proportions, and identity. Apply unsettling but non-graphic visual traits such as desaturated or ashen skin tones, darkened eye areas, an intense or vacant gaze, and subtly distressed clothing.  Ensure the subject appears physically present in the scene and fully integrated with the surroundings. Render the final image with photorealistic detail and a suspenseful horror aesthetic."},{name:"CITY IN TIME",message:"Take a picture and place the subject standing naturally within a realistic urban environment. The city, location, and date are defined externally. Integrate the subject seamlessly into the scene so they appear physically present, with correct scale, perspective, lighting, shadows, and reflections. Match architecture, street layout, vehicles, signage, clothing styles, weather, and overall atmosphere appropriate to the specified city and date. Preserve the subject‚Äôs facial identity, proportions, posture, and personality while making the scene photorealistic and historically or contemporarily accurate."},{name:"CLAYMATION",message:"Take a picture and transform the image into claymation-style. Characters appear sculpted from clay with fingerprints and textures."},{name:"CLEANUP CHAOS",message:`Take a picture of a room or indoor space. Analyze the scene to determine whether it appears mostly clean or messy.

If the room appears messy or cluttered, transform it into a clean, organized version of the same space. Remove clutter, straighten objects, clean surfaces, neatly arrange items, and improve overall order while preserving the original layout, furniture, and lighting.

If the room appears clean or orderly, transform it into a realistically messy version. Add believable clutter such as scattered clothes, papers, cups, toys, or everyday items. Introduce mild disorder without destroying the room or making it unsafe.

Maintain realism, consistent lighting, and the same camera perspective. The transformation should feel like the same room before and after tidying or neglect, and remain clearly readable on a small screen.`},{name:"COLLAGE",message:"Take a picture in the style of an artistic paper collage with visible cut edges and layered materials."},{name:"COLLECTIBLE TOY",message:"Take a picture and transform the subject into a collectible toy encased inside its original packaging. Adapt the packaging style to match the type of toy: for example, a car becomes a Matchbox or Hot Wheels package, an action figure or superhero becomes a classic action figure box, a person becomes a Barbie-style doll package, etc. Use the subject‚Äôs characteristics, clothing, and personality to inspire the toy design and accessories. Generate flavor text and captions on the packaging based on the subject‚Äôs appearance, traits, and surroundings, making it feel like an authentic collectible. Ensure the subject remains recognizable while fully integrated as a toy. Render the final image in high detail with realistic reflections, packaging materials, and lighting, so it looks like a real collectible ready for display."},{name:"COMIC SUPERHERO",message:"Take a picture and transform the subject into a superhero inspired by their own traits, personality, or clothing. Preserve the subject‚Äôs recognizable facial features and body while designing a unique superhero identity based on what they are wearing or their notable characteristics. The superhero must wear a flowing cape integrated naturally into the costume. Show a full comic-book page with multiple panels depicting the subject in action, using powers or skills derived from their personal traits. Bold inks, vibrant colors, dynamic composition, and expressive onomatopoeia. Ensure the subject remains clearly identifiable while fully integrated into the comic-book superhero narrative."},{name:"CONNECT THE DOTS",message:`Take a picture and transform it into a classic printable connect-the-dots puzzle. Reduce the image to a clean line-art outline that captures the essential shape and silhouette of the subject while removing unnecessary detail.

Place numbered dots along the outline and key interior contours in a **logical sequential order starting with number 1**, so that connecting the dots in order will clearly reveal the subject. Dots should be large, evenly spaced, and easy to follow.

Show very minimal lines or connecting guides‚Äîonly enough to hint at the outline if necessary, but primarily rely on the numbered dots. Avoid background details, shading, or other guides. Use high-contrast dots suitable for printing. Do not include text, instructions, or labels. The final image should resemble a traditional connect-the-dots puzzle where the user draws all connecting lines by hand, always beginning with dot 1.`},{name:"CONSTELLATION",message:"Take a picture and transform the subject into a living constellation in the night sky. Reimagine the subject‚Äôs silhouette, facial features, and pose as a pattern of glowing stars connected by faint celestial lines, while keeping their identity recognizable. Surround the subject with a deep, cosmic backdrop filled with nebulae, subtle stardust, and distant galaxies. Use soft glows, luminous highlights, and gentle gradients to create a magical, astronomical aesthetic. The subject should appear formed entirely from stars and light, as if they are part of the universe itself, rendered with crisp detail and awe-inspiring atmosphere."},{name:"CONSTRUCTIVISM",message:"Take a picture and transform the image into Constructivism style art. Bold geometry, diagonal compositions, limited color palettes, and graphic poster-like structure."},{name:"CUBISM",message:"Take a picture in the style of Cubist Art. Break objects into geometric forms and reassemble them from multiple viewpoints simultaneously, challenging traditional perspective and depth to emphasize the two-dimensional canvas."},{name:"CYBERPUNK",message:"Take a picture and transform the image into a cyberpunk scene. Neon lighting, futuristic city elements, holographic accents, and high-contrast color palette. Cinematic night lighting with tech-inspired details."},{name:"DADA",message:"Take a picture and transform the image into a Dada-style collage. Combine cut-and-paste textures, absurd juxtapositions, and fragmented composition. Subject recognizable within surreal elements."},{name:"DAL√ç",message:"Take a picture and transform it into a painting of a surreal scene inspired by Salvador Dal√≠. Preserve the subject‚Äôs photographic realism while introducing dreamlike distortions, warped perspectives, melting forms, or impossible juxtapositions. Lighting should feel dramatic and hyper-real. The final image should feel uncanny, symbolic, and visually unsettling while still rooted in the original photo."},{name:"DATING PROFILE",message:"Take a picture and create a dating profile‚Äìstyle image of the subject. Present the subject as approachable, charismatic, and recognizable, integrated naturally into a clean and appealing profile-style layout. Generate humorous or charming flavor text and a short bio inspired by the subject‚Äôs appearance, clothing, accessories, and surroundings, incorporating any externally provided profile details naturally. Ensure all text is clearly readable within the image. Render the final result with flattering lighting, clear focus, photorealistic detail, and a lively, engaging composition."},{name:"DICTIONARY",message:"Take a picture and transform it into a dictionary-style entry. Include a small, clearly visible photograph of the subject placed beside or beneath the definition, similar to a modern illustrated dictionary. Allow externally provided language to define the entry name. Use a clean, minimal layout with strong typography. The photo should act as a visual reference for the word, reinforcing the definition."},{name:"DISNEY",message:"Take a picture in the style of a hand-drawn Disney character portrait from the golden age of animation."},{name:"DOUBLE EXPOSURE",message:"Take a picture and create a double-exposure composition.    Blend the subject with a secondary scene using transparent overlays. Clear silhouette, balanced negative space. Moody, artistic tone."},{name:"DREAM LOGIC",message:"Take a picture and transform the image using dream logic. Disjointed scale, symbolic elements. Unreal but emotionally coherent."},{name:"DRIVERS LICENSE",message:"Take a picture and create a realistic but clearly fictional driver‚Äôs license‚Äìstyle image featuring the subject‚Äôs photo. Randomly select a U.S. state and replicate the general visual layout, color scheme, typography style, and design motifs associated with that state‚Äôs driver license, while clearly presenting it as a non-functional, artistic replica. Use placeholder information, fictional identifiers, and decorative text rather than real personal data. Preserve the subject‚Äôs recognizable facial features and neutral ID-style expression. The final image should resemble a stylized prop or novelty card, not a real or usable identification document."},{name:"DUTCH GOLDEN AGE",message:"Take a picture and transform the image into Dutch Golden Age painting. Realistic textures, warm tones, precise detail, dramatic lighting, and naturalistic surroundings."},{name:"DWARF",message:"Take a picture and transform the subject into a fantasy dwarf while preserving the subject‚Äôs recognizable facial features, expressions, and identity. Adjust proportions to reflect a classic dwarf physique‚Äîshorter stature, sturdy build‚Äîwhile maintaining realism. Adapt clothing and gear into a believable fantasy style such as armor, leather, or artisan attire inspired by the subject‚Äôs original outfit. Place the subject into a detailed fantasy environment like a mountain hall, forge, or underground city. Use cinematic lighting, rich textures, and realistic materials to ensure the subject feels fully integrated into the fantasy world."},{name:"DYSTOPIAN",message:"Take a picture in the style of a Dystopian future. Bleak atmosphere. Make it photorealistic."},{name:"EDO LANDSCAPE",message:"Take a picture and transform it in the style of Japanese Edo period landscape prints. Include the subject in the scene while using clean outlines, flat color areas, and traditional compositional elements such as mountains, rivers, or bridges. The final image should feel elegant, balanced, and illustrative."},{name:"ELEMENTAL SELF",message:"Take a picture of the subject and transform only the subject into a human embodiment of a natural element: fire, water, earth, wind, or lightning. The subject‚Äôs body, clothing, and aura should visually integrate the chosen element, flowing naturally with their pose and expression. For fire, incorporate flames, embers, and glowing heat; for water, use flowing currents, ripples, and reflective surfaces; for earth, integrate rocks, soil, foliage, or crystals; for wind, show swirling air currents, leaves, or flowing garments; for lightning, incorporate electric arcs, sparks, and glowing energy. Preserve the subject‚Äôs recognizable facial features, identity, and proportions. The background should remain completely normal and unaltered, making the elemental subject clearly stand out. Use dramatic lighting, dynamic motion, and atmospheric effects on the subject only, rendered in ultra-realistic detail with vivid colors, depth, and surreal impact."},{name:"EMBROIDERY",message:"Take a picture and transform the image into embroidery art. Thread textures, stitched lines, fabric background."},{name:"EMOJI THIS",message:`Take a picture and reinterpret the subject using expressive emoji language while preserving the photo‚Äôs composition, body posture, clothing, and context. Emojis should visually translate what is seen in the image using the following SIX priority categories, selecting at most ONE emoji from each category when applicable:

1) Face / Emotion (highest priority):
If the subject is a human face, replace or overlay the face with ONE emoji matching the apparent expression or mood:
‚Ä¢ Happy / Smiling ‚Üí üòÄ üòÑ üòÅ üòä
‚Ä¢ Laughing / Playful ‚Üí üòÇ ü§£ üòÜ üòπ
‚Ä¢ Calm / Relaxed ‚Üí üôÇ üòå üò¥ üßò
‚Ä¢ Surprised / Shocked ‚Üí üò≤ üòÆ üòØ üò±
‚Ä¢ Sad / Tired ‚Üí üò¢ üòû üòî üò™
‚Ä¢ Angry / Intense ‚Üí üò† üò° ü§¨ üò§
‚Ä¢ Confused / Dizzy ‚Üí üòï ü§î üòµ‚Äçüí´ üåÄ
‚Ä¢ Love / Affection ‚Üí ü•∞ üòç üòò ‚ù§Ô∏è

2) Animal (if present):
If an animal is visible, include ONE appropriate animal emoji matching species and apparent mood:
üê∂ üê± üê∞ üê≠ üêπ üêª üêº üê® üêØ ü¶ä üê∏ üêµ üêî üê¶ üê§ üê¢ üêç üê† üêü

3) Food & Drink:
If food or drink is visible or being consumed, include ONE relevant emoji:
üçï üçî üå≠ üåÆ üç£ üç© üç™ üç∞ ü•ê ü•û ‚òï üç∫ üç∑ üßÉ ü•§ üçé üçå üçì

4) Objects / Tech / Props:
If the subject is holding or interacting with an object, include ONE relevant emoji:
üì± üíª üéß üì∑ üï∂Ô∏è ‚åö üéÆ üìö üíº üîë üß∏ üéÅ üõí

5) Clothing / Accessories:
If notable clothing or accessories are present, include ONE emoji that best represents them:
üëï üëó üß¢ üëí üëü üë† üëú üéí üß• üß§ üï∂Ô∏è üëì

6) Activity / Context (lowest priority):
If the image clearly implies an activity or setting, include ONE emoji to reflect it:
üéµ üé∏ üé® üèÄ ‚öΩ üö≤ üéÆ üßò üèñÔ∏è üèïÔ∏è üèôÔ∏è ‚úàÔ∏è üéâ

Composition Rules:
‚Ä¢ Use UP TO SIX emojis total, at most ONE per category.
‚Ä¢ Emojis should be large, clear, and visually blended into the scene.
‚Ä¢ Preserve the original photo‚Äôs background, body posture, and spatial layout.

The final image should feel playful, expressive, and instantly readable, as if the photo itself has been translated into emoji language.`},{name:"EMOJI EXPLOSION",message:`Take a picture and reinterpret the subject using expressive emoji language. Render emojis as animated visual elements with subtle looping motion baked into the image. Match animation style to emotion and context:

‚Ä¢ Happy or playful emojis gently bounce or bob
‚Ä¢ Calm emojis softly pulse or breathe
‚Ä¢ Sad emojis slowly drift downward
‚Ä¢ Angry emojis subtly shake or vibrate
‚Ä¢ Surprised emojis pop or wobble briefly

Limit motion to smooth, readable loops suitable for small screens. Preserve body posture, background, and context. The final output should feel alive, playful, and expressive, with animation enhancing‚Äînot distracting from‚Äîthe image.`},{name:"ENCYCLOPEDIA",message:"Take a picture and transform it into a fake encyclopedia entry. Include a clear photograph of the subject placed near the top or alongside the text as a reference image. Style the layout like a printed encyclopedia page with columns, captions, and figure labels. Use authoritative yet humorous flavor text describing the subject‚Äôs background, significance, or behavior. The photograph should feel like an official illustrative plate supporting the article."},{name:"ERA FILTER",message:"Take a picture and transform the subject and scene to accurately reflect the era specified externally. Adapt clothing, hairstyle, accessories, environment, color palette, materials, technology, and overall visual language to match the chosen historical or cultural era. Preserve the subject‚Äôs recognizable facial features, proportions, and identity while blending them naturally into the era‚Äôs aesthetic. Ensure lighting, textures, and image quality reflect the photographic or artistic limitations typical of that time period. The final image should appear as if the subject genuinely existed and was photographed in that era, with no modern elements visible."},{name:"ESCHER",message:"Take a picture and transform the image into an M.C. Escher-inspired impossible space. Non-Euclidean architecture."},{name:"ETCH A SKETCH",message:`Take a picture and recreate the subject as a classic Etch A Sketch drawing displayed inside a realistic Etch A Sketch toy. The entire red Etch A Sketch frame should be visible, including the screen area and the two control knobs at the bottom, so it feels like a photographed physical toy rather than a digital effect.

Render the subject using continuous, thin, single-line strokes characteristic of Etch A Sketch drawings. Use simple outlines and minimal detail while preserving the subject‚Äôs recognizable shape and expression. The drawing should appear slightly imperfect, with subtle line wobble and overlaps consistent with manual knob control.

Ensure the background is the Etch A Sketch screen texture, and keep the overall composition clean and centered. Do not add text or extra graphics. The final image should feel nostalgic, tactile, and immediately recognizable on a small screen.`},{name:"EXAGGERATED TRAIT",message:"Take a picture and transform the subject by exaggerating a single physical trait while preserving the subject‚Äôs recognizable identity and overall proportions. The exaggerated feature should be visually prominent but anatomically coherent, blending naturally with the subject‚Äôs face and body. Adapt lighting, shadows, and perspective so the transformation feels intentional rather than distorted. Integrate the subject seamlessly into the scene, maintaining realism or stylized realism depending on the chosen direction. Ensure the final result feels playful and striking."},{name:"EXPRESSIONISM",message:"Take a picture in the Expressionism artistic movement emphasizing subjective emotions and inner experiences, often distorting reality to convey intense emotions and psychological states."},{name:"EXTREME SPORTS MOMENT",message:"Take a picture and transform the subject into a randomly selected sporting competition, such as a professional team sport, individual athletic event, or outdoor extreme sport. Depict the subject performing the most dramatic, high-impact moment possible within that sport ‚Äî for example, a powerful slam dunk, a full sprint at the finish line, a massive aerial maneuver, or a daring ascent up a mountain. Preserve the subject‚Äôs recognizable facial features, expression, and identity while adapting clothing, gear, and posture appropriate to the sport. Place the subject in an authentic, dynamic environment with motion, energy, and cinematic lighting so the action feels intense and exhilarating. The scene should capture a peak, frozen-in-time moment of athletic achievement with realistic scale, motion blur, and photorealistic detail."},{name:"FAIRYTALE PAGE",message:"Take a picture and make it into a page from a magical children fairytale book. Like a page pulled from a magical tale, a whimsical world of castles, forests, and enchanted creatures. Soft textures, rich colors, and fairytale-like details giving the image a dreamy, otherworldly feel.  The result should be a full view of the page with a relevant background behind the page."},{name:"FAIRYTALE MORAL",message:"Take a picture and transform it into an illustrated fairytale moral or fable lesson. Depict the subject as the central figure in a symbolic, storybook-style scene. Generate a short moral or lesson written beneath or beside the illustration using flavor text inspired by the subject‚Äôs appearance, actions, or surroundings, incorporating any externally provided details naturally. The moral should read like a classic fable conclusion. Ensure all text is clearly visible. The overall tone should feel whimsical, wise, and timeless.  The result should be a full view of the illustration with a relevant background behind the illustration."},{name:"FATE BOOK",message:"Take a picture and transform it into a dramatic illustrated page from an ancient Book of Fate or Destiny. Present the subject as the central figure of a foretold prophecy, depicted in a mythic or symbolic scene that reflects their appearance, posture, and personality. Surround the subject with aged parchment textures, arcane symbols, constellations, or subtle mystical motifs. Generate a short prophecy-style passage written in poetic language inspired by the subject‚Äôs visual traits and surroundings, incorporating any externally provided details naturally. Ensure the entire prophecy text is fully visible and integrated into the page design. The final image should resemble a sacred manuscript or legendary tome, with cinematic lighting, rich detail, and an epic, timeless atmosphere.  The result should be a full view of the page with a relevant background behind the page."},{name:"FAUVISM",message:"Take a picture and transform the image into Fauvist style painting. Intense, vivid colors, simplified forms, and expressive brushwork while keeping the subject identifiable."},{name:"FAX MACHINE COPY",message:"Take a picture and transform it into a low-quality fax machine print. Use high contrast, noise, streaking lines, and warped textural artifacts. The subject should appear degraded but still identifiable."},{name:"FELT PUPPET",message:"Take a picture and transform the image into a felt puppet scene. Soft fabric textures, handcrafted appearance."},{name:"FEUDAL JAPAN",message:"Take a picture and place the subject in feudal Japan as a samurai. Preserve facial identity and physique. Authentic armor, period setting, cinematic lighting."},{name:"FIELD GUIDE",message:"Take a picture and transform it into a field guide page. Include a clear photograph of the subject as the main reference image, labeled as a specimen photo. Add a species name (real or humorous), habitat, behavior notes, and identifying traits. Use the visual style of a naturalist‚Äôs guidebook. The photograph should appear as a documented observation supporting the entry."},{name:"FILM NOIR",message:"Take a picture and transform the image into classic film noir style. High-contrast black and white. Hard directional lighting, deep shadows, Venetian blind light patterns. Moody, dramatic composition."},{name:"FILTH MODE",message:`Take a picture and identify the main subject or object. Transform it so it appears dirty, neglected, or gross while preserving its shape and identity.

Add realistic grime such as dirt, mud, stains, splashes, smears, or dried mess. If appropriate, include cartoonishly unpleasant elements like poop, sludge, or foul residue applied to the object‚Äôs surface without obscuring it completely.

Ensure the filth follows the object‚Äôs contours, texture, and lighting so it looks physically present rather than overlaid. The result should be visually obvious, humorous or shocking, and immediately readable on a small screen.`},{name:"FIND ME",message:"Take a picture and transform the image so the subject is fully visible yet intentionally hidden through perfect visual camouflage. The subject‚Äôs clothing, colors, textures, and patterns must precisely match and continue the surrounding environment, making the subject difficult to distinguish at first glance. Do not remove or blur the subject ‚Äî instead, conceal them through seamless pattern alignment, color continuity, and texture matching. The subject must remain physically present with accurate scale, lighting, shadows, and depth, so they clearly exist once noticed. Avoid outlines, highlights, or obvious separation; the concealment should feel deliberate, intelligent, and visually satisfying when discovered."},{name:"FORCED PERSPECTIVE",message:"Take a picture and place the subject into a scene that uses forced perspective to create a clever visual illusion. The subject should appear to interact with large or distant objects using scale tricks (for example: pinching the sun, holding the moon, pushing a skyscraper, balancing a mountain on their palm). Carefully align scale, depth, and camera angle so the illusion looks intentional and realistic. Preserve the subject‚Äôs identity and integrate lighting, shadows, and perspective so the interaction feels physically believable and visually playful."},{name:"FOREVER STAMP",message:"Take a picture and transform the subject into a large physical postage stamp. Show perforated edges, printed texture, ink dot patterns, and slight wear."},{name:"FRACTAL",message:"Take a picture and transform the image using fractal geometry. Recursive patterns, infinite detail."},{name:"FROZEN IN ICE",message:"Take a picture and make it appear as if the subject is frozen inside a clear block of ice. The ice should have realistic cracks, bubbles, frost, and refraction. The subject must be clearly visible through the ice, distorted slightly by thickness and trapped depth."},{name:"FUNKO POP",message:"Take a picture and turn the subject into a Funko Pop. Oversized head, simplified body."},{name:"FUTURE SELF",message:"Take a picture and depict the subject 20-40 years in the future. Preserve facial structure with realistic aging."},{name:"GAMEBOY",message:"Take a picture and transform the subject into an authentic early-1990s monochrome handheld console display using a classic green dot-matrix screen aesthetic. Render the entire image as if it is displayed on a low-resolution reflective LCD with a pea-green color palette, dark olive shadows, and pale green highlights. Convert the subject into true dot-matrix pixel art using a visible grid of circular pixels, limited tonal steps, and strong contrast. Preserve the subject‚Äôs recognizable facial features and silhouette while adapting them to the constraints of a handheld screen resolution. Simulate real screen characteristics including pixel ghosting, motion blur trails, uneven refresh, slight vertical smearing, faint scan artifacts, and subtle screen noise. Avoid smooth gradients‚Äîeverything should appear quantized and grid-based. Frame the image strictly as the handheld screen view itself, with a thin dark border suggesting the screen edge. Do not include logos, branding, or copyrighted UI elements. Optional minimal pixel indicators (numbers or icons only) may appear at the edges of the screen. Optimize for small screens with bold shapes, clear separation, and immediate readability. The final image should feel indistinguishable from a real dot-matrix handheld screen captured mid-use‚Äînostalgic, tactile, and unmistakably retro."},{name:"GENDER INVERSION",message:"Take a picture and transform the subject into the opposite gender while preserving the subject‚Äôs core facial structure, expressions, and identity. Adjust facial features, body shape, hair, and secondary characteristics in a realistic and anatomically plausible way. Adapt clothing and styling to suit the transformed gender presentation while maintaining the subject‚Äôs original personality and essence. Ensure the subject appears naturally integrated into the scene, with consistent lighting, proportions, and photorealistic realism."},{name:"GHIBLI CAM",message:"Take a picture in the Studio Ghibli anime style-soft colors, whimsical atmosphere, and hand-drawn aesthetic."},{name:"GIANT WORLD",message:"Take a picture and transform the subject into a giant towering over the environment. Realistic scale interaction."},{name:"GLASS",message:"Take a picture and transform everything into transparent glass. Refraction, reflections, caustic lighting."},{name:"GLITCH REALITY",message:"Take a picture and introduce digital glitches into a realistic scene. Pixel tearing, compression artifacts. Reality appears corrupted."},{name:"GLOSSARY",message:"Take a picture and create an image of a glossary identifying the main subject and a limited number of notable objects. Include the photograph prominently in the layout. Overlay clear letter markers (A, B, C, etc.) directly on or near each identified object in the image. Beneath the photo, create a glossary-style list where each entry begins with the matching letter and provides a brief description blending factual identification and light humor. Keep the layout simple and legible for a small screen. The photograph should clearly correspond to the labeled glossary entries."},{name:"GOUACHE ILLUSTRATION",message:"Take a picture and transform the image into a gouache illustration. Matte textures, bold shapes, opaque color layers, and crisp edges while preserving subject identity."},{name:"GRAFFITI",message:"Take a picture in the style of Graffiti Art. Spray paint textures, urban wall surface."},{name:"HAIKU",message:"Take a picture and create a serene, minimalist scene inspired by classical Japanese aesthetics in the spirit of Matsuo Bash≈ç. Emphasize simplicity, natural elements, quiet atmosphere, and contemplative mood. Use flavor text drawn from the subject‚Äôs presence, expression, and surroundings to compose a traditional haiku. Display the complete haiku fully and clearly within the image, ensuring all lines are legible and unobstructed. Integrate the text harmoniously into the scene, such as on parchment, a wooden plaque, or subtle calligraphy-style overlay. Render the final image with refined detail, soft lighting, and a calm, poetic visual balance."},{name:"HAITIAN NA√èVE ART",message:"Take a picture and transform the image into Haitian na√Øve style art. Bright colors, flattened depth, decorative storytelling elements, and joyful visual rhythm."},{name:"HAPPY HOLIDAYS",message:"Take a picture and place the subject in a festive holiday-themed scene based on the closest holiday to the current date. Dress the subject in holiday-appropriate attire: for Christmas, an ugly Christmas sweater; Halloween, a generic costume; 4th of July, an Uncle Sam outfit; Oktoberfest, lederhosen; Thanksgiving, a Pilgrim outfit; Easter, a bunny outfit; New Year‚Äôs, a baby‚Äôs diaper or Father Time clothing with hourglass; Valentine‚Äôs Day, a Cupid outfit with bow and heart arrow; St. Patrick‚Äôs Day, a Leprechaun outfit; Cinco de Mayo, a Mexican sombrero. Integrate the subject naturally into a scene reflecting the holiday‚Äôs environment, decorations, and mood. Generate a humorous or festive holiday message caption based on the chosen holiday. Preserve facial identity, proportions, and personality while making the scene photorealistic, vibrant, and lively."},{name:"HAUNTED EPITAPH",message:"Take a picture and transform it into a playful, haunted graveyard scene inspired by classic theme-park haunted mansion aesthetics. Depict the subject as a stylized carved portrait, bust, or ghostly cameo associated with a decorative tombstone or memorial plaque, without implying real death. Create a humorous rhyming epitaph in the spirit of whimsical haunted mansion gravestones, using clever wordplay and flavor text inspired by the subject‚Äôs appearance, personality, clothing, or surroundings. Ensure the full rhyming epitaph is clearly visible and readable within the image. Use atmospheric lighting, fog, moonlight, and ornate stonework to create a spooky-but-fun tone. Keep the overall mood lighthearted, imaginative, and theatrical rather than dark or morbid.  The result should be a full view of the epitaph with a relevant background behind the epitaph."},{name:"HEAD SWAP",message:`Take a picture and if the picture contains two or more clearly visible subjects, perform a realistic multi-subject head swap by exchanging their heads between bodies. Preserve body posture, clothing, lighting direction, skin tone consistency, and camera perspective. Maintain natural neck alignment and correct scale so each swapped head fits the new body believably.

If exactly one subject is detected, perform an inverse face transformation by subtly mirroring or inverting the subject‚Äôs facial features while preserving overall realism, expression, and identity. The result should feel intentionally uncanny but not distorted.

If no subjects are detected, return the original image unchanged. The final image should be visually coherent and readable on small screens.`},{name:"HIDDEN DETAILS",message:"Take a picture and transform the image so subtle hidden elements are embedded. Viewer should discover details only after close inspection."},{name:"HIEROGLYPHICS",message:"Take a picture and make it hieroglyphic art. Everything is converted to pictures and symbols etched onto a stone monument or drawn onto papyrus."},{name:"HISTORY",message:"Take a picture and place the subject seamlessly into a historical event that occurred on the date specified externally. Preserve the subject‚Äôs facial features, clothing, and posture while adapting them naturally to the historical setting, lighting, and perspective. Ensure the subject interacts believably with the environment, props, or people in the scene so they appear as an authentic part of the moment. Make the final image photorealistic and historically accurate, with no elements appearing out of place."},{name:"HOPPER",message:"Take a picture and transform it into a scene inspired by Edward Hopper. Preserve the photographic framing but simplify forms and use strong directional lighting. Emphasize isolation, stillness, and quiet atmosphere. Colors should be muted and shadows deliberate. The final image should feel contemplative and emotionally distant."},{name:"I AM WITH STOOPID",message:`Take a picture and transform it so one subject appears to be wearing an 'I'm with Stoopid' t-shirt that looks physically printed on the fabric, not digitally overlaid. The shirt should include natural folds, fabric texture, slight ink distortion, and perspective warping so the design follows the body realistically.

If only one subject is detected, display the text 'I'm with Stoopid' with a single large arrow pointing upward toward the wearer‚Äôs own head.

If two or more subjects are detected, place the shirt on the primary subject and display the text 'I'm with Stoopid' with one or more arrows pointing sideways or diagonally toward the other visible subjects. Arrows should clearly indicate the other subjects without overlapping faces.

Ensure the text and arrows remain bold, high-contrast, and legible on small screens while maintaining a believable printed-shirt appearance. Preserve lighting consistency, fabric shading, and natural wrinkles so the shirt feels worn, not pasted.`},{name:"I AM WITH THE BAND",message:"Take a picture and place the subject as a member of a famous singer‚Äôs band or musical group. Preserve the subject‚Äôs facial features, personality, and clothing while transforming them into a musician integrated into the ensemble. The subject should be holding or playing a musical instrument appropriate to the scene (guitar, drums, keyboard, etc.) and positioned naturally among other group members. Capture stage lighting, performance energy, and the dynamic interaction of a live or recorded music setting. Ensure the subject remains clearly identifiable while fully integrated into the famous singer‚Äôs group performance."},{name:"ICE SCULPTURE",message:"Take a picture and make subject into an ice sculpture. The sculpture has the clarity and sparkle of ice, often enhanced by lighting, to showcase its form. Clear, chiseled ice with internal refraction."},{name:"IDIOM",message:"Take a picture and visually interpret a common idiom or phrase in a completely literal way. Place the subject directly inside the literal version of the expression (for example: head in the clouds, walking on thin ice, burning the midnight oil). Preserve realism in lighting and composition while embracing the absurdity of the literal interpretation. The scene should be instantly readable, humorous, and visually clever without requiring any text."},{name:"IKEA INSTRUCTION MANUAL",message:"Take a picture and transform the subject into an illustrated instruction manual page, similar to a flat-pack assembly guide. Depict simplified, diagram-style versions of the subject in multiple steps, showing how the subject is assembled or functions. Use clean line art, minimal colors, arrows, step numbers, icons, and humorous warning symbols inspired by the subject‚Äôs personality, clothing, or posture. Avoid text-heavy explanations; rely on visual storytelling and pictograms. Present the final image as a complete instruction manual page with a clean layout and playful, clever tone."},{name:"INFRARED",message:"Take a picture and transform the image into infrared photography. Bright foliage, dark skies. Surreal tonal contrast."},{name:"INKBLOT",message:"Take a picture in the style of an inkblot-style artwork. Abstract symmetry, flowing ink forms on paper."},{name:"iPHONE CAMERA",message:"Take a picture and transform it into an early smartphone camera photo. Use soft focus, blown highlights, muted colors, and slight motion blur. The subject should feel casual, imperfect, and authentically early-mobile."},{name:"IS IT CAKE?",message:"Take a picture and transform the subject so it appears to be a realistic hyper-detailed cake. The subject should retain recognizable features but clearly be made of cake, frosting, fondant, and icing textures. Optionally show a slice cut out or a knife mid-cut revealing cake layers inside."},{name:"ISLAMIC MINIATURE",message:"Take a picture and transform the picture into an Islamic miniature style painting. Flattened perspective, decorative borders, fine line work, intricate patterns, and vivid colors."},{name:"ISOMETRIC",message:"Take a picture and transform the scene into isometric perspective. Clean geometry, consistent angles. Game-like layout."},{name:"JAVERT PHOTOBOMB",message:"Take a picture and add in the background Russell Crowe as Javert from Les Miserable photobombing the subject. Match lighting realistically."},{name:"JAPANESE SUMI-E",message:"Take a picture and transform the image into Japanese sumi-e ink painting. Minimal brushstrokes, expressive ink flow, restrained composition, and elegant simplicity."},{name:"JOHANNES VERMEER",message:"Take a picture a make it into a vibrant, painterly portrait into a Dutch Golden Age portrait inspired by Vermeer. Soft window lighting, rich detail, oil paint texture, calm atmosphere."},{name:"KAHLO",message:"Take a picture and transform it into a portrait inspired by Frida Kahlo. Center the subject prominently with symbolic elements drawn from nature or personal identity. Use bold colors, flat backgrounds, and strong outlines. The subject should feel emotionally direct, intimate, and iconic."},{name:"KEITH HARING",message:"Take a picture in the style of the American artist, Keith Haring. Bold black lines, energetic figures, flat colors."},{name:"KITSCH",message:"Take a picture and transform the image into kitsch style art. Over-the-top colors, exaggerated sentimentality, playful excess, and intentionally cheesy visual elements."},{name:"KLINGON TRANSFORMATION",message:"Take a picture and transform the subject into a realistic Klingon warrior. Preserve recognizable facial structure, expressions, body proportions, and personality while adapting them to authentic Klingon anatomy including pronounced ridged forehead, heavier brow, deeper-set eyes, rougher skin texture, and powerful build. Translate the subject‚Äôs clothing into Klingon armor or garments appropriate to their status while retaining the original clothing‚Äôs silhouette and identity cues. Cinematic sci-fi lighting, gritty realism, and cultural authenticity. The subject must appear fully Klingon, not human with prosthetics, and naturally integrated into their environment."},{name:"LANDMARKS",message:"Take a picture and place the subject naturally in front of a randomly selected famous world landmark. Preserve the subject‚Äôs recognizable facial features, proportions, and identity while matching the lighting, perspective, color temperature, and camera style of the landmark environment. Ensure correct scale, shadows, reflections, and atmospheric depth so the subject appears physically present at the location rather than composited. Adapt clothing, posture, and environment subtly to fit the climate, culture, and setting without turning it into a costume. The landmark and surroundings should remain authentic and recognizable, with the subject fully integrated into the scene. Render with photorealistic detail and travel-photography realism."},{name:"LEGO",message:`Take a picture and transform the image into a realistic LEGO minifigure scene. Convert all subjects into LEGO minifigures with correct minifigure proportions: cylindrical torsos, blocky legs, movable arms and hands, and **classic LEGO minifigure heads**.

The subject‚Äôs head must be a smooth, cylindrical LEGO head with **all facial features painted directly onto the head**, including eyes, eyebrows, mouth, expression, facial hair, freckles, glasses, or other defining traits. Do NOT render realistic human heads, sculpted hair, or detailed facial geometry. Any hairstyle or head covering must appear only as a separate LEGO accessory piece (helmet, hat, hair piece), not as part of the head itself.

Translate the subject‚Äôs recognizable traits into simplified LEGO-style printed facial graphics while maintaining the iconic LEGO look.

Build the environment entirely from LEGO bricks at toy scale using plates, bricks, tiles, and accessories. Use realistic toy-photography lighting with soft shadows and subtle reflections so the scene looks like a photograph of an actual LEGO diorama. Keep the composition clear, proportional, and readable on small screens.`},{name:"LETTERHEAD",message:`Take a picture of a sign, document, business card, storefront, or any visible branding related to a person or organization. Identify and extract readable text such as names, titles, addresses, phone numbers, email addresses, taglines, or other identifying information.

If the source image contains a visual logo, emblem, icon, symbol, or recognizable graphic mark, recreate a simplified, clean version of that logo at the top of the letterhead. The logo should be visually derived from the image itself (shapes, symbols, icons, or imagery), not generated from appended text. Preserve recognizability while simplifying for professional print use.

If no visual logo is present, construct a refined text-based header using the extracted name or business name, without inventing imagery.

If externally provided information is supplied (such as name, address, phone, email, or website), merge it seamlessly as supporting text beneath or beside the logo or header. Do not transform externally provided text into a logo or symbol.

Design a clean, professional, print-ready letterhead layout. Present the logo or header prominently at the top, followed by secondary details arranged with balanced alignment and spacing. Use modern, understated typography, subtle dividers, restrained color accents, and generous white space. Avoid novelty fonts, decorative graphics, or poster-like styling.

Ensure all text is crisp, readable, and properly aligned. The background should be clean and uncluttered, resembling a legitimate business letterhead suitable for formal correspondence or PDF export. Optimize for small screens while maintaining realistic print proportions.`},{name:"LET THEM EAT CAKE",message:"Take a picture and transform the subject into a member of Marie Antoinette‚Äôs 18th-century French royal court. Dress the subject in elaborate Rococo-era court attire with silk fabrics, lace, ribbons, and embroidery. Apply period-accurate makeup including pale powdered skin, subtle rouge, and defined beauty marks. Add a tall, powdered white wig styled with curls and decorative ornaments. Preserve the subject‚Äôs facial features while placing them in an elegant Versailles-style interior with soft lighting and refined posture. The final image should resemble a formal aristocratic court portrait from late 18th-century France."},{name:"LIGHT",message:"Take a picture and have everything made of light.  Varied colored lights with a glowing, ethereal, radiant effect."},{name:"LIMERICK",message:"Take a picture and transform the scene into a playful, cartoon-style illustration with exaggerated shapes, expressive features, and bright, cheerful colors. Use flavor text inspired by the subject‚Äôs appearance, pose, clothing, and surroundings to create a humorous limerick. Place the complete limerick clearly and fully visible beneath or alongside the cartoon image, ensuring all five lines are readable and unobstructed. The text should feel integrated into the cartoon design, such as on a sign, speech panel, or decorative text box. Maintain a lighthearted, whimsical tone throughout the final image.  The result should be a full view of the illustration with a relevant background behind the illustration."},{name:"LINE DRAWING",message:"Take a picture and convert the image into a hand-drawn line illustration. Black ink only, no color or shading. Clean white background with expressive line weight."},{name:"LINOLEUM PRINT",message:"Take a picture and transform the image into a linoleum block print. Organic carved textures. Flat ink colors."},{name:"LITE-BRITE",message:`Take a picture and recreate the subject as a Lite-Brite pegboard artwork displayed inside a physical Lite-Brite toy frame. The entire toy should be visible, including the dark backing, grid of holes, and colorful glowing pegs, so it appears as a photographed Lite-Brite rather than a digital overlay.

Transform the subject entirely using the Lite-Brite peg layout: the subject‚Äôs shape, facial features, and key details must be composed only of circular light pegs aligned to the pegboard grid. Do not use lines, shading, or any elements outside the peg layout to define the subject.

Use bright, saturated colors for each peg with subtle glow and soft bloom to emulate the light pegs. Simplify details as necessary to maintain recognizability while fully adhering to the pegboard constraints.

Keep the composition centered and uncluttered. Avoid text or extra graphics. The final image should feel tactile, nostalgic, and clearly readable on a small screen, looking like a true physical Lite-Brite creation.`},{name:"LIVING TATTOO",message:"Take a picture and transform the subject into a realistic tattoo design as if the image itself has been tattooed onto skin. Reinterpret the subject as linework, shading, and ink textures while preserving recognizable facial features, pose, and personality. Render the subject using authentic tattoo styles such as fine-line blackwork, illustrative shading, stippling, or limited-color ink with bold linework and strong contrast. Avoid photorealism‚Äîeverything should read clearly as tattoo art, not a photo. Place the tattoo naturally on a realistic skin surface (e.g., forearm, upper arm, shoulder, calf, or back), following proper body curvature, muscle flow, and skin texture. Include realistic ink characteristics such as slight bleed, skin texture with visible pores and hair follicles, natural redness around fresh ink, and subtle shading variations. Ensure the tattoo integrates organically with the skin‚Äîcorrect perspective, natural stretching, soft shadowing, and seamless edges‚Äîwithout looking pasted or flat. The tattoo may include optional framing elements like banners, borders, decorative flourishes, dates, small symbols, or brief text captions if contextually appropriate. Optimize for small screens with clean composition and clearly readable details. The final image should look like a professional tattoo artist's finished work‚Äîconvincing, stylized, and something someone would actually get inked."},{name:"LOGO FROM TEXT",message:`Take a picture and extract prominent readable word(s) from the source image. Use only the extracted word or concept as inspiration to generate a simple, professional logo symbol that visually represents the meaning of the word rather than its letterforms. For example, if the extracted word is an animal, object, or concept, depict a clean symbolic representation of that subject.

Limit logo generation strictly to the extracted source text. Do not transform, symbolize, or reinterpret any externally appended or supplemental text.

If additional text such as a name, address, phone number, or tagline is provided externally, render that text as literal, readable typography arranged neatly beneath or beside the logo symbol. Maintain clear separation between the logo mark and supporting text.

Apply a minimal, modern design style suitable for headers or branding: balanced proportions, restrained color usage, and clear negative space. Avoid illustrative complexity, mascots, or decorative effects. The final result should resemble a legitimate logo-and-header lockup suitable for professional use.`},{name:"LONG EXPOSURE",message:"Take a picture and apply long-exposure photography style. Light trails, motion blur on moving elements. Static subject remains sharp."},{name:"LOST AND FOUND",message:"Take a picture and transform it into a humorous lost-and-found poster. Present the subject as the missing item or person, framed in a simple poster layout with bold headings and tear-off‚Äìstyle design cues. Generate playful descriptive flavor text based on the subject‚Äôs appearance, clothing, expression, or surroundings, incorporating any externally provided details naturally. The tone should be clearly humorous and lighthearted. Ensure all text is fully visible and readable, and the subject remains recognizable. Render the final image with realistic paper texture, casual lighting, and authentic public-notice styling."},{name:"LOVE ACTUALLY",message:"Take a picture and create a cinematic two-panel composition where the subject communicates an emotional message using handwritten signs. Preserve clear facial likeness and identity while presenting the subject in a quiet, sincere moment. Design constraint: Render a single image split into exactly two side-by-side panels of equal size. In each panel, show the subject holding one handwritten sign facing the viewer. Limit the total number of signs to a maximum of two, with one short line of text per sign. Do not imply motion, animation, or time-based progression. Primary information source: If message text is provided via externally supplied details, divide the message across the two signs. Ensure the wording is original, natural, and emotionally resonant, and does not reference or recreate any specific copyrighted scene, dialogue, or characters. Secondary enhancement: If no message text is provided, infer a gentle, original two-line message based on the subject‚Äôs expression and context. Optimize the layout for small screens with bold, high-contrast handwritten text, clean spacing, and minimal clutter. Use soft, cinematic lighting, shallow depth of field, and a warm, intimate tone. Maintain an original setting and composition. Do not add additional panels, cards, or text beyond the two signs."},{name:"LOW POLY",message:"Take a picture using very low-poly modeling use minimal detail, faceted surfaces, and angular edges."},{name:"MACRO",message:"Take a picture and transform the image into macro photography. Extreme close-up detail. Shallow depth of field, high texture clarity."},{name:"MAD MAGAZINE",message:"Take a picture and transform the subject into a classic Mad Magazine-style caricature. Preserve the subject‚Äôs recognizable facial features and personality while exaggerating key traits with over-the-top humor: enlarged head, expressive eyes, exaggerated expressions, and comically small or distorted body. Include irreverent, satirical flavor text, visual gags, and props that parody everyday life or pop culture. Bold linework, bright colors, and chaotic, playful composition. Ensure the subject is clearly identifiable within the humorous scene."},{name:"MAGIC EYE",message:`Take a picture and transform it into a single-image autostereogram (Magic Eye‚Äìstyle illusion). Encode the subject‚Äôs shape and depth into a repeating patterned texture so the image appears abstract at first glance but reveals the subject when viewed with relaxed or unfocused eyes.

Use a dense, repeating pattern with subtle depth cues that form the subject‚Äôs silhouette and major features in three dimensions. Do not include outlines, labels, or hints. The subject should not be immediately obvious without proper viewing.

Ensure the pattern is clean, evenly tiled, and centered. The final image should resemble a classic Magic Eye print that is visually stable and readable on a small screen.`},{name:"MARIONETTE PUPPET",message:"Take a picture and transform the subject into a handcrafted marionette puppet. Preserve recognizable facial features, expressions, proportions, and clothing identity, adapted into carved wood, painted surfaces, stitched fabric, and jointed limbs. Visible strings extend upward from the limbs and head to a wooden marionette controller held above the frame or partially visible. The puppet must show realistic wear, grain, seams, and articulation points. Studio or theatrical lighting with shallow depth of field. The subject must clearly remain the same individual, now reimagined as a controlled puppet."},{name:"MASCOT",message:"Take a picture and transform the subject into a realistic dynamic sports team fluffy mascot. Use the subject‚Äôs clothing, colors, accessories, and personality traits to inspire the mascot‚Äôs overall design. Incorporate a logo-like emblem, team colors, and stylized features into the mascot costume naturally, while preserving the subject‚Äôs recognizable facial characteristics. Adapt the subject into a bold, illustrative, energetic style suitable for a sports team mascot, emphasizing strong shapes, clear outlines, and vibrant colors."},{name:"MATRIX",message:"Take a picture in the style of the Matrix. Include Matrix Rain."},{name:"MAYHEM",message:"Take a picture and transform the scene into an outrageously funny visual scenario centered on the subject. Use exaggerated scale, unexpected objects, absurd logic, and chaotic interactions to create instant visual comedy. Preserve the subject‚Äôs recognizable face and identity while placing them in a situation that is wildly implausible yet visually coherent. The humor should be obvious at first glance, relying on visual absurdity rather than text, jokes, or captions. Push the scene to the edge of chaos while maintaining clear lighting, sharp detail, and readable composition."},{name:"MEME",message:"Take a picture and make it into a MEME, adding ironic humor and flavor text inspired by the content of the image. Clean composition with readable typography.  The result should be a full view of the meme."},{name:"MERMAID",message:"Take a picture and transform the subject into a realistic mermaid. Preserve the subject‚Äôs recognizable facial features, expressions, body proportions, and personality while adapting the lower body into a natural, anatomically believable fish tail with detailed scales and fins. The subject wears ocean-appropriate, functional aquatic attire designed for a mermaid, integrated naturally with the anatomy. Create a photorealistic underwater environment with flowing hair, suspended particles, coral reefs, and aquatic life. Use realistic underwater lighting with sunlight rays filtering through the water, emphasizing scale, depth, and immersion. The subject must appear fully native to the underwater world, not costumed."},{name:"MESOPOTAMIAN RELIEF",message:"Take a picture and Transform the image into a Mesopotamian bas-relief style. Flatten forms, use profile poses, and emphasize symbolic gestures. Apply sandstone textures and ancient ornamental borders."},{name:"MEXICAN MURALISM",message:"Take a picture and transform the image into Mexican muralism style art. Bold figures, narrative storytelling, strong outlines, social symbolism, and monumental composition."},{name:"MILK CARTON",message:"Take a picture and place the subject on the side of a classic milk carton as a missing person feature. Design the carton with realistic packaging details, typography, and layout. Generate humorous descriptive flavor text for the missing person section based on the subject‚Äôs appearance, clothing, expression, or personality, incorporating any externally provided details naturally. Keep the tone playful and clearly fictional. Ensure the subject‚Äôs image is integrated naturally into the carton design and remains recognizable. Render the final image photorealistically with believable lighting, carton texture, and packaging realism."},{name:"MINECRAFT",message:"Take a picture in the style of Minecraft. Blocky geometry, pixel textures."},{name:"MINIATURE SET",message:`Take a picture and transform the entire scene into a handcrafted miniature diorama. Scale all subjects and objects to match the proportions of a physical miniature set, so they appear small and in proportion to each other. Render surfaces with handcrafted textures such as clay, painted wood, cardboard, fabric, or tiny props, giving the scene a realistic, tactile feel.

Use shallow depth of field, soft studio lighting, and subtle shadows to emulate macro photography of a real miniature model. Ensure the composition reads clearly, maintains visual depth, and feels like a meticulously constructed miniature set. Keep subjects and environment clearly recognizable and readable on small screens, with a handcrafted, physical toy-like aesthetic.`},{name:"MINIMALISM",message:"Take a picture and transform the image into the Minimalism style. Simplify shapes, reduce color palette, and remove extraneous detail while keeping subject identifiable."},{name:"MIRROR WORLD",message:"Take a picture and create a mirrored reality where reflection differs from reality. Subtle narrative differences."},{name:"MONDRIAN",message:"Take a picture and reinterpret it in the style of Piet Mondrian. Reduce the scene into a grid of bold black lines and flat blocks of primary colors with white space. Abstract the subject while maintaining a clear structural reference to the original composition. The final image should feel balanced, geometric, and modernist."},{name:"MONSTER",message:"Take a picture and transform the subject into a cinematic monster while preserving the subject‚Äôs recognizable facial structure, body proportions, and identity. Reimagine the subject with exaggerated, otherworldly features such as altered skin texture, enhanced musculature, claws, horns, scales, or glowing eyes, inspired by the subject‚Äôs original traits. Place the subject naturally into a dark, immersive environment that complements the creature‚Äôs design. Use dramatic lighting, shadows, and environmental interaction to ensure the monster appears physically present in the scene. Render in photorealistic detail with a powerful, intimidating atmosphere."},{name:"MOON",message:"Take a picture and place subject on the moon. Subject is wearing an astronaut suit. Subject face is visible through the helmet visor. The Earth is in the background. Make it photorealistic. Make it 8k resolution."},{name:"MOSAIC",message:"Take a picture in the style of a glass Mosaic. Small tiles, reflective surfaces."},{name:"MOUNT RUSHMORE",message:"Take a picture and make the subject face a carved head placed on Mount Rushmore. Make it photorealistic."},{name:"MOVIE REEL",message:"Take a picture and make the scene into a movie reel with multiple frames. Move the subject slightly from one frame to the next to simulate movement."},{name:"MOVIE SCENE INSERT",message:"Take a picture and place the subject inside a cinematic movie scene as if they were an original character in the film. Preserve the subject‚Äôs recognizable facial features, body proportions, clothing identity, and personality. Match the exact cinematography of the chosen movie including lens type, depth of field, film grain, color grading, lighting direction, production design, and era-accurate costuming if required. The subject must appear physically present in the scene with correct scale, shadows, reflections, and environmental interaction. The background, props, and atmosphere must be authentic to the movie‚Äôs world, making the subject indistinguishable from the original cast and fully integrated into the scene."},{name:"MR. POTATO HEAD",message:`Take a picture and transform the subject into a Mr. Potato Head‚Äìstyle toy. Preserve the subject‚Äôs recognizable facial features and general expression, but adapt them into the characteristic potato-shaped body with smooth, slightly shiny plastic texture.

Include toy-accurate removable parts such as eyes, eyebrows, nose, mouth, ears, arms, and accessories (hat, glasses, etc.). Arrange them on the potato body in a playful, semi-realistic way that preserves the subject‚Äôs identity while emphasizing the modular, interchangeable nature of the toy.

Maintain proper scale, shadows, and lighting so the subject appears as a real physical toy. Do not add text or background clutter; keep the composition clean and readable on small screens. The final image should feel nostalgic, playful, and instantly recognizable as a Mr. Potato Head toy version of the subject.`},{name:"MUG SHOT",message:"Take a picture of the subject and transform it into a realistic mug shot‚Äìstyle image. Use a neutral or plain background, institutional lighting, and a straight-on camera angle with the subject facing forward. Include a height chart behind the subject. Add a placard held by the subject featuring humorous or descriptive flavor text inspired by the subject‚Äôs appearance, clothing, expression, or characteristics, incorporating any externally provided details naturally. Preserve the subject‚Äôs recognizable facial features, posture, and expression while maintaining a realistic, photorealistic composition. Include subtle imperfections typical of ID photography, such as slightly uneven lighting, mild shadows, or imperfect framing, to enhance authenticity."},{name:"MULTIVERSE",message:"Take a picture and create a parallel version of the same subject in a different reality. Parallel version is subtly different in style, clothing, or environment."},{name:"MUPPET",message:"Take a picture and make it a Muppet. Felt textures, button eyes, puppet proportions. Preserve subject personality."},{name:"MUSEUM EXHIBIT",message:"Take a picture and present the subject as a museum exhibit on display. Place the subject behind glass or on a pedestal within a realistic museum gallery environment, with proper lighting, barriers, and signage. Generate an exhibit placard using descriptive or humorous flavor text inspired by the subject‚Äôs appearance, clothing, pose, or surroundings, incorporating any externally provided details naturally. The placard should include a title, short description, and optional faux historical or cultural context. Ensure the subject appears seamlessly integrated into the exhibit, with realistic scale, reflections, and museum ambiance. Render the final image photorealistically, as if photographed inside a real museum."},{name:"MYSTICAL",message:"Take a picture and transform it into a realistic, detailed mystical world, where trees have faces and bioluminescent plants and objects light up."},{name:"MYTHOLOGY",message:"Take a picture and make the subject into a Greek or Roman mythological creature while preserving recognizable characteristics of the subject. Epic, classical atmosphere."},{name:"N64 BLUR FILTER",message:"Take a picture and transform it using a Nintendo 64‚Äìstyle blur and texture smoothing. Apply soft focus, smeared textures, and simplified geometry. Colors should feel slightly muddy but warm. The subject should look nostalgic and dreamlike, as if remembered from an old cartridge game."},{name:"NEGATIVE SPACE",message:"Take a picture and use negative space to define the subject. Primary form emerges from absence rather than detail. Minimalist composition."},{name:"NEOCLASSICAL",message:"Take a picture and transform the image into Neoclassical style painting. Strong lines, realistic proportions, muted colors, classical architecture or drapery elements, and dignified subject presentation."},{name:"NEOLITHIC CAVE PAINTING",message:"Take a picture and transform the image into a prehistoric cave painting. Render the subject using simplified, abstracted shapes, ochre and charcoal colors, and textured rock surfaces. The subject should remain identifiable while blending with ancient cave wall aesthetics."},{name:"NEON SIGN",message:"Take a picture and transform the subject into a glowing neon sign. Recreate the subject‚Äôs silhouette, facial features, and defining characteristics using luminous neon tubing and light trails, while keeping the subject clearly recognizable. Use vibrant neon colors with realistic glow, reflections, and light bleed against a dark or urban-inspired background such as brick, concrete, or night scenery. Arrange the neon lines as if they were hand-bent glass tubes, with subtle imperfections and mounting hardware for realism. Render the final image with crisp detail, strong contrast, and a striking nighttime atmosphere."},{name:"NEWSPAPER",message:"Take a picture and Transform the image into a newspaper print. Halftone dots, grayscale ink. Newsprint texture. Include flavor text headline and story text inspired by the content of the image. The result should be a full view of the newspaper page with the newspaper header and date visible with a relevant background behind the newspaper."},{name:"NIGHT VISION",message:"Take a picture and transform the image into night vision style. Green monochrome, sensor noise."},{name:"O‚ÄôKEEFFE",message:"Take a picture and reinterpret it in the style of Georgia O‚ÄôKeeffe. Simplify the subject into flowing organic forms with smooth gradients and soft transitions. Emphasize shape, color, and scale over detail. The final image should feel calm, intimate, and abstracted."},{name:"OBJECT MOSAIC",message:"Take a picture and recreate the subject so that their entire face and body are constructed exclusively from hundreds or thousands of small physical objects such as coins, pennies, jellybeans, M&Ms, bottlecaps, beads, stones, buttons, or similar items. There must be NO visible skin, fabric, or underlying human form anywhere in the image. Every facial feature, contour, shadow, and body shape must be defined only by the placement, color, density, and orientation of the objects. From a distance, the subject must be clearly recognizable; up close, the image must resolve entirely into individual objects. Use realistic lighting, depth, and perspective so the objects cast shadows and feel physically present. Do not overlay or decorate a normal body ‚Äî the objects themselves ARE the subject."},{name:"ONE SECOND BEFORE DISASTER",message:"Take a picture and depict the subject frozen in time exactly one second before a dramatic, chaotic, or humorous event occurs. Capture tension and anticipation in the subject‚Äôs pose and expression (for example: a falling object mid-air, a near collision, an imminent spill, or an unexpected surprise). Use cinematic lighting, motion cues, and environmental storytelling to make it obvious that something is about to happen, without actually showing the outcome."},{name:"OPPOSITE SELF",message:"Take a picture and transform the subject into their opposite self while preserving the subject‚Äôs recognizable facial structure, expressions, posture, and identity. Invert key physical characteristics in a realistic and anatomically plausible way, such as body type and gender presentation, while maintaining the subject‚Äôs personality and essence. Adapt facial features, body proportions, hair, and clothing naturally to fit the transformed appearance. Ensure the subject remains clearly identifiable and fully integrated into the scene with consistent lighting, perspective, and environment. Render the final image with photorealistic detail and believable realism."},{name:"OPTICAL ILLUSION",message:"Take a picture and convert the image into an optical illusion. Perspective shifts depending on viewing angle. Hidden secondary images emerge upon inspection."},{name:"PAPER SHADOW BOX",message:"Take a picture and transform the image into a layered paper shadow-box. Multiple cut paper layers creating depth. Soft directional lighting"},{name:"PAPERCRAFT",message:"Take a picture in the style of three-dimensional Papercraft. Folded paper textures and layered construction."},{name:"PARALLEL UNIVERSE HISTORY",message:`Take a picture and place the subject at the center of a universally recognizable moment in human history, replacing the original figure with the subject while preserving the significance, symbolism, and emotional weight of the event. The subject must be clearly recognizable and portrayed as the individual performing the defining action of the moment. Do not depict or reference the original historical figure by name or likeness. Instead, recreate the setting, era-appropriate environment, clothing, and atmosphere so the moment is immediately identifiable through visual context alone. Use implicit inference from the subject‚Äôs appearance, posture, and expression to select an appropriate historic theme (e.g., leadership, discovery, courage, progress, unity). If externally provided details are supplied, incorporate them as factual context for the moment. Present the image as a clean, collectible flashcard optimized for small screens. Include concise, readable text such as: 
‚Ä¢ Title of the historic moment
‚Ä¢ Year or era
‚Ä¢ One-sentence description of the event‚Äôs significance
‚Ä¢ A short, respectful caption describing the subject‚Äôs role. Ensure cinematic lighting, strong composition, and emotional impact. The final image should feel iconic, respectful, and timeless‚Äîlike a photograph history forgot to record.`},{name:"PATRON SAINT",message:"Take a picture and transform the subject into a patron saint‚Äìstyle depiction while preserving clear facial likeness and identity. Present the subject in saintly attire with symbolic garments, colors, and iconography. Use a reverent, dignified pose with soft halo lighting and a subtle divine glow, rendered in a classical yet photorealistic aesthetic. Primary information source: If a saint name is provided via externally supplied details, accurately incorporate all historically associated information for that saint, including name, patronage domains, feast day, biographical summary, notable traditions, and fun facts. Do not alter or contradict known historical associations. Secondary enhancement: Use implicit visual inference from the subject‚Äôs appearance, clothing, accessories, environment, and expression to enhance symbolism, visual motifs, and flavor text, without overriding factual saint information. Fallback behavior: If no saint name is externally provided, create a clearly labeled symbolic or archetypal ‚ÄúSaint of [inferred theme]‚Äù based on implicit inference from the subject. Avoid naming or implying a real historical saint, omit specific feast dates, and present patronage and fun facts as symbolic rather than historical. Design the final image as a compact, mobile-friendly flash card or holy card layout optimized for small screens. Ensure all text is concise, high-contrast, and legible at small sizes, with clear hierarchy and minimal clutter. Maintain visual clarity, balanced composition, and immediate recognizability.  The result should be a full view of the card with a relevant background behind the card."},{name:"PEANUTS",message:"Take a picture in the style of a Peanuts cartoon strip. Have the subject speaking through a text bubble that reads GOOD GRIEF!"},{name:"PHOTO PUZZLE",message:`Take a picture and transform it into a printable jigsaw puzzle layout. Preserve the original photograph clearly while overlaying visible puzzle piece cut lines across the entire image.

Generate a classic jigsaw pattern with interlocking pieces of varied shapes and sizes. Ensure pieces are large enough to be easily cut out and assembled by hand. Avoid overly small or complex pieces. Keep the image centered and unobstructed so the subject remains recognizable even when divided.

Use clean, high-contrast cut lines that are clearly visible on small screens and when printed. Do not add numbers, text, or labels. The final image should look like a ready-to-print puzzle sheet that can be cut out and assembled in real life.`},{name:"PICTURE PERFECT",message:"Take a picture and make it picture perfect - improve lighting, colors, and overall composition. Professional perfection. Correct lighting, color, sharpness, and realism. Remove any imperfections.  Make it photorealistic.  8k resolution."},{name:"PIXAR",message:"Take a picture in the style of Pixar signature 3D animation.  Use the Pixar style of blending realism with cartoon expressiveness. Vibrant colors, soft shadows, big eyes, rounded features, emotional depth, and animated charm."},{name:"PLUSH TOY",message:"Take a picture and transform the subject into a plush toy. Soft fabric, stitching details. Cute proportions."},{name:"POINTILLISM",message:"Take a picture in the style of Pointillism Art. Complementary colors are placed next to each other to intensify each hue and create vibrancy as the viewer eye optically blends the dots from a distance. Made entirely of tiny, colorful dots."},{name:"POLICE SKETCH",message:`Take a picture and transform the subject into a classic police sketch as if created from a witness description. Depict the subject as a hand-drawn pencil or charcoal sketch on off-white paper, using strong line work, cross-hatching, and shading to define facial structure and key features.

Simplify and alter details so the sketch is approximate rather than an exact replica of the subject. Preserve general identifying characteristics such as face shape, eyes, nose, mouth, hairline, and expression, but introduce small deviations consistent with a sketch from memory.

Use a neutral background with slight paper texture. Add text and police case numbers. The final image should feel serious, observational, and readable on a small screen, reflecting the imperfection of eyewitness recall.`},{name:"POLLOCK",message:"Take a picture and reinterpret it through abstract expressionism inspired by Jackson Pollock. Overlay energetic splatters, drips, and layered paint textures while allowing hints of the original subject to remain visible beneath the chaos. The final image should feel raw, spontaneous, and motion-filled."},{name:"POKEMON CARD",message:"Take a picture and make it into a pokemon card, add abilities and flavor text inspired by the content of the image. The result should be a full view of the card with a relevant background behind the card."},{name:"POLAROID",message:"Take a picture and transform it into an authentic instant-film photograph aesthetic. Frame the image within a classic Polaroid-style border with a thicker white margin at the bottom. Apply subtle film grain, soft focus, slight color fading, and natural vignetting consistent with instant photography. Include gentle imperfections such as light leaks or minor exposure variation for realism. Ensure the subject remains clearly recognizable and centered within the frame. Render the final image to convincingly resemble a real printed instant photo."},{name:"POP ART",message:"Take a picture and make it Pop Art. Employs vibrant, bold colors, simplified imagery, and techniques from the commercial world like screen-printing, often with a sense of humor, irony, or wit."},{name:"POP-UP BOOK",message:"Take a picture and transform the entire scene into a physical pop-up book made of paper. The subject should be constructed entirely as a pop-up paper structure that rises upward from folded paper layers attached to the book‚Äôs pages. The subject must emerge directly from the page through visible folds, hinges, tabs, and layered paper planes. The body, face, and features should be formed from flat paper pieces assembled into a three-dimensional pop-up mechanism, clearly connected to the page surface. Show the open book with two facing pages visible. The pop-up elements should clearly originate from the folds of the pages and extend upward, as if they would collapse flat when the book is closed. Use realistic paper textures, visible creases, cut edges, and paper thickness. All materials must look like paper‚Äîno skin, fabric, plastic, or realistic surfaces. Lighting and shadows should emphasize the layered paper construction. The final image should look like a photographed pop-up book page where the subject is part of the paper engineering itself."},{name:"PORCELAIN",message:"Take a picture and make the subject a porcelain sculpture. Glossy ceramic finish."},{name:"PORTRAIT",message:"Take a picture in the style of Photorealistic Portrait. Frame the picture in a dark black wood frame."},{name:"POSTCARD",message:'Take a picture in the style of a vintage postcard. Add text: "WISH YOU WERE HERE". The result should be a full view of the postcard with a relevant background behind the card.'},{name:"POTATO",message:"Take a picture and make the subject into a potato.  Preserve recognizable traits humorously."},{name:"POTTER",message:"Take a picture and place the subject naturally within a detailed, cinematic scene from the Harry Potter universe. Preserve the subject‚Äôs facial identity. Surround the subject with authentic Hogwarts scenery‚Äîenchanted castle halls, floating candles, spell effects, and magical ambiance. Match the film‚Äôs lighting and color grading for realism. Capture depth and atmosphere similar to the movies, with subtle magical motion or glow around wands and objects. Maintain the subject‚Äôs natural facial features and proportions while blending clothing and environment into the Hogwarts world. Render in ultra-realistic 8K, with soft volumetric lighting, depth of field, and fantasy realism. Based on the subject‚Äôs personality, traits, and characteristics, assign the subject to one of the four Hogwarts houses and have them wear the corresponding house robes: Gryffindor (brave, daring, chivalrous, red & gold, lion), Slytherin (ambitious, cunning, resourceful, green & silver, serpent), Ravenclaw (wise, creative, intellectual, blue & bronze, eagle), or Hufflepuff (loyal, kind, hardworking, yellow & black, badger). Ensure the house choice aligns with the subject‚Äôs personality and integrates naturally into the scene."},{name:"POWERPUFF GIRLS",message:"Take a picture in the style of a Powerpuff girls animation."},{name:"PRE-RAPHAELITE",message:"Take a picture and transform the image into Pre-Raphaelite style painting. Vivid colors, detailed textures, medieval or literary elements, and highly idealized subject portrayal."},{name:"PROFILE",message:"Take a picture and transform it into a humorous FBI-style profile page. Design the layout to resemble an official dossier with structured sections such as subject name, profile photo, and case notes. Generate playful flavor text, including a fictional name and lighthearted, clearly fictional infractions inspired by the subject‚Äôs appearance, expression, clothing, and surroundings, incorporating any externally provided details naturally. Maintain a realistic document aesthetic while ensuring the tone is clearly comedic. Render the final image photorealistically with crisp text, believable formatting, and polished presentation."},{name:"PS1 POLYGON MEMORY",message:"Take a picture and transform it into a PlayStation 1‚Äìera 3D render. Use low-polygon geometry, warped textures, visible seams, and jittery perspective. Lighting should be flat or uneven. The subject should appear slightly uncanny, as if rendered by early 3D hardware."},{name:"PSYCHEDELIC 60s",message:"Take a picture and transform the image into 1960s psychedelic art. Swirling colors, distorted shapes, vibrant patterns, and dreamlike visual intensity."},{name:"PUNCHLINE",message:"Take a picture and transform it into a visually coherent scene that sets up a clear, believable expectation involving the subject, then delivers a clever visual punchline that subverts that expectation without using captions, speech bubbles, or overt comedy props. The humor must be communicated entirely through visual context, timing, and composition rather than exaggeration or parody. Preserve the subject‚Äôs recognizable identity and integrate them naturally into the scene so the punchline feels intentional and discovered rather than obvious. The image should read as normal at first glance, with the punchline revealing itself a moment later upon closer inspection. Render with realistic lighting, scale, and detail so the scene feels grounded despite the twist."},{name:"QUASI-MUTATION",message:"Take a picture and transform the subject as if undergoing a dramatic mutation into a powerful alternate form. Randomly select a creature or archetype such as a werewolf, Hyde-style transformation, monstrous hybrid, or other iconic mutated form. Preserve the subject‚Äôs recognizable facial structure, eyes, expression, and identity while exaggerating musculature, posture, skin texture, or anatomy appropriate to the transformation. Blend human and creature features convincingly so the subject still feels like the same individual mid- or post-mutation. Integrate the subject naturally into the scene with cinematic lighting, dynamic pose, and realistic interaction with the environment. Render the final image with photorealistic detail, dramatic contrast, and a sense of raw power and transformation."},{name:"R-ROLL",message:"Take a picture and include a singing Rick Astley standing next to the subject.  Make it photorealistic."},{name:"RAGDOLL",message:"Take a picture and turn the subject into a ragdoll. Maintain the characteristics of the subject. Fabric textures, stitched seams."},{name:"RANDOM PROFESSIONAL",message:"Take a picture and transform the subject into a randomly selected professional role. Select from a broad range of contemporary professions across industries. The chosen profession should be clearly recognizable through accurate, real-world attire, accessories, and tools associated with that role. Preserve the subject‚Äôs recognizable facial structure, expression, and identity while adapting hairstyle, clothing, and posture to suit the profession naturally. Place the subject in a realistic environment appropriate to the profession, with consistent lighting, scale, and perspective so the transformation feels authentic rather than like a costume. Ensure the subject appears fully integrated into the scene, as if genuinely working in that profession. Render with photorealistic detail and believable realism."},{name:"REAL-LUNGING",message:"Take a picture and make the inanimate object real and make it lunging at me. Make it photorealistic."},{name:"REAL-NOT LUNGING",message:"Take a picture and make the inanimate object real. Make it photorealistic."},{name:"RECIPE CARD-FUNNY",message:"Take a picture and transform it into a humorous recipe card. Include the photograph at the top as the featured image. Treat the subject as if it were a recipe concept rather than literal food. Write playful, metaphorical ingredients and preparation steps that describe the subject‚Äôs personality, appearance, or vibe. Keep the layout simple and readable for a small screen. The final image should feel whimsical and intentionally absurd."},{name:"RECIPE CARD-SERIOUS",message:"Take a picture and identify the subject. If the subject is food or appears edible, generate a real, practical recipe based on it. Include the photograph at the top of the layout as the featured image. Present a clear ingredients list and simple preparation steps. Use a clean, readable recipe-card style optimized for a small screen. The photograph should clearly represent the dish being described."},{name:"RECURSIVE IMAGE",message:"Take a picture and transform the image into infinite visual recursion. The image contains itself within itself."},{name:"REMBRANDT",message:"Take a picture in the style of Rembrandt van Rijn, Dutch Golden Age painting, oil painting, chiaroscuro masterpiece. Dramatic chiaroscuro lighting. Add atmospheric texture: rich oil painting texture, thick impasto brushstrokes, moody and spiritual atmosphere."},{name:"RENAISSANCE",message:"Take a picture in the style of a Renaissance Painting. Include linear perspective, depth and realism. Focus on human expression, dynamic poses, and realistic landscapes. Feature a wide range of natural pigments like lead white, azurite, verdigris, ochers, malachite, vermilion, and lapis lazuli, used with binders such as egg tempera and oil, to create vibrant, naturalistic colors and complex effects. Focus on light, shadow, and harmonious blending to create realism and naturalism."},{name:"RICK AND MORTY",message:"Take a picture in the style of a Rick and Morty episode scene-colorful, chaotic, and slightly grotesque. Convert characters from the Rick and Morty multiverse, complete with wacky gadgets, bizarre outfits, angular features, and offbeat personalities."},{name:"RIDE PHOTO MOMENT",message:"Take a picture and transform it into an official amusement park ride photo captured at the peak moment of excitement. Place the subject seated in a ride vehicle, mid-action, with wind-blown hair, dramatic expressions, and dynamic motion blur. Add an on-ride camera angle and a branded photo-frame overlay typical of theme park ride photos. Leave room for externally provided language to specify the amusement park name and ride name, and seamlessly incorporate those details into signage, ride branding, or the photo border. The final image should feel energetic, candid, and like a souvenir photo taken at the ride‚Äôs most thrilling moment."},{name:"RISOGRAPH",message:"Take a picture and transform the image into risograph print style. Layered ink colors, misregistration. Paper grain texture."},{name:"ROBLOX",message:"Take a picture in the style of Roblox. Simplified 3D characters."},{name:"ROBOT",message:"Take a picture and make everything into mechanical robots that maintain the characteristics of the objects. Make it photorealistic."},{name:"ROCKWELL",message:"Take a picture in the style of a Norman Rockwell illustration. Render with meticulous detail and vibrant colors to portray realistic, yet idealized nostalgic Americana."},{name:"ROCOCO",message:"Take a picture and transform the image into Rococo style painting. Pastel colors, ornamental patterns, playful composition, delicate brushstrokes, floral and interior details."},{name:"ROMANTICISM",message:"Take a picture in the style of a Romanticism painting. Moody lighting, emotional intensity, dramatic composition, and expressive colors. Subject central and impactful."},{name:"ROMANESQUE PAINTING",message:"Take a picture and transform the image into Romanesque-style painting. Simplify forms, use bold outlines, flat areas of color, and stylized faces. Include architectural or decorative elements inspired by early medieval European art. Keep the subject recognizable while appearing as if part of a historical religious or historical scene."},{name:"RPG PORTRAIT",message:"Take a picture and transform the subject into an RPG character portrait. Fantasy UI frame, stat panel styling. Painted character art. The result should be a full view of the portrait with a relevant background behind the portrait."},{name:"RUBBER HOSE",message:"Take a picture and transform the image into 1930s rubber hose animation style. Bouncy limbs, simple faces. Vintage cartoon aesthetic."},{name:"RUSSIAN ICONOGRAPHY",message:"Take a picture and transform the image into Russian iconography style art. Stylized facial features, gold accents, symbolic colors, frontal composition, and spiritual solemnity."},{name:"SCANDINAVIAN FOLK ART",message:"Take a picture and transform the image into Scandinavian folk art style art. Decorative patterns, muted earthy tones, simple geometry, and traditional motifs."},{name:"SCREAM",message:`Take a picture and transform the subject so their face appears as a Ghostface-style mask while preserving the subject‚Äôs underlying facial structure, proportions, and expression. The mask should be smooth white with elongated eyes and mouth, subtly shaped by the subject‚Äôs face so it feels worn rather than pasted on.

Dress the subject in a flowing black hooded robe inspired by the classic Ghostface costume. Ensure the hood frames the mask naturally, with realistic fabric folds, shadows, and texture. Match lighting, perspective, and depth so the costume integrates seamlessly with the original scene.

Maintain a clean, non-graphic horror aesthetic. Do not add blood, weapons, or violent elements. The final image should feel eerie, iconic, and cinematic while remaining clearly readable on small screens.`},{name:"SECURITY CAMERA FOOTAGE",message:"Take a picture and transform it into low-quality security camera footage. Render the image in washed-out grayscale or green-tinted night vision with heavy noise and compression artifacts. Add a timestamp and camera label (e.g., CAM 03, 02:14 AM) in a blocky digital font. The framing should feel awkward or off-center, with slight motion blur or ghosting. Reduce detail and sharpness while preserving the subject‚Äôs silhouette. The image should feel surveilled, impersonal, and slightly unsettling."},{name:"SEND IN THE CLOWNS",message:`Take a picture and transform the subject into a clown, adapting the clown‚Äôs style based on the subject‚Äôs facial expression. Preserve the subject‚Äôs facial structure and identity while applying expressive clown makeup and costume details. Automatically select ONE of the following interpretations based on the subject‚Äôs apparent emotion:

‚Ä¢ Happy Clown ‚Äî if the subject is smiling or joyful, use bright colors, a rounded red nose, cheerful face paint, and playful costume elements.
‚Ä¢ Sad Clown ‚Äî if the subject appears sad or frowning, use muted colors, downward eye makeup, a single painted tear, softer lighting, and a melancholic expression.
‚Ä¢ Evil Clown ‚Äî if the subject appears angry, intense, or menacing, use darker colors, sharp makeup lines, exaggerated shadows, unsettling grin or glare, and dramatic lighting.

Ensure the chosen clown type is visually clear and emotionally consistent. The final image should feel theatrical, expressive, and unmistakably clown-like while keeping the subject recognizable.`},{name:"SENTIENT OBJECT",message:"Take a picture and transform the subject into a sentient everyday object while preserving recognizable facial features, expressions, and personality. Choose an object that feels thematically connected to the subject‚Äôs clothing, pose, or surroundings, such as a vending machine, toaster, mailbox, lamp, or appliance. Integrate the subject‚Äôs face naturally into the object‚Äôs design so it appears alive and expressive. Place the character in a believable environment where the object would normally exist, with consistent lighting, scale, and shadows. Render the final image with surreal realism and a humorous, imaginative tone."},{name:"SEUSS",message:"Take a picture and transform the subject and the surrounding scene into a whimsical Dr. Seuss book illustration. Preserve the subject‚Äôs recognizable facial features and personality while adapting their appearance to the exaggerated, fantastical style of Dr. Seuss characters with playful proportions, quirky shapes, and vibrant colors. The environment should include imaginative, surreal elements typical of Seuss worlds‚Äîtwisting landscapes, unusual plants, and whimsical architecture. Add accompanying flavor text transformed into a short rhyming poem or verse that complements the scene and subject, in the signature playful, rhythmic, and nonsensical style of Dr. Seuss. Ensure the subject remains clearly identifiable and fully integrated into the Seussian world."},{name:"SHAKESPEAREAN",message:"Take a picture and make the subject an actor in a Shakespearean play. Dress the subject in period-accurate costume in the same style as the chosen Shakespearean play, apply stage lighting, and dramatic theatrical pose."},{name:"SHOPPING LIST",message:"Take a picture and create a pictured shopping list identifying the main subject and all notable objects. Do not display a single full reference photo. Instead, separate each identified item and create a small cropped image or thumbnail of each subject or object. Present a numbered shopping list where each number is paired with its corresponding small image and a short description. Keep the layout clean and optimized for a small screen, with each item visually distinct and easy to scan."},{name:"SHOULDNT HAVE DONE THAT",message:"Take a picture and subtly make it look like the subject is doing something they absolutely should not be doing. The humor should come from obvious poor judgment."},{name:"SILHOUETTE",message:"Take a picture and convert the subject into a solid black silhouette. Subject interior filled with the background image. Outer background pure white."},{name:"SIMPSONS",message:"Take a picture in the style of a Simpsons cartoon scene, with yellow skin tones and Springfield vibes.  Complete with cartoon proportions and bright palettes. Preserve facial identity."},{name:"SKETCH ART",message:"Take a picture in the style of colorful Sketch Art. A rapidly executed, freehand drawing that serves as a preliminary step for a more detailed, finished work."},{name:"SNOW GLOBE",message:"Take a picture and encapsulate the scene inside a snow globe. Glass refraction, floating snow particles."},{name:"SOLARPUNK",message:"Take a picture and transform the scene into a solarpunk future. Green architecture, renewable energy, optimistic tone."},{name:"SOUTH PARK",message:"Take a picture in the style of a South Park cartoon scene with flat colors and exaggerated expressions.  Blocky limbs, simple shapes, and expressive faces."},{name:"SOUVENIR GONE WRONG",message:"Take a picture and frame the subject like a classic tourist souvenir photo in front of a famous landmark. The subject should be posing confidently as if capturing a perfect travel photo, while unexpected chaos, absurd events, or humorous interruptions happen in the background (for example: animals photobombing, sudden weather, confused crowds, or strange events). Keep the subject calm and unaware while the background tells a funny or surprising story."},{name:"SPACE",message:"Take a picture and place the subject in a space station wearing a space suit. The Earth is visible in the background. Make it photorealistic."},{name:"SPANISH BAROQUE",message:"Take a picture and transform the image into a painting in the style of Diego Vel√°zquez or similar Spanish Baroque painters. Use realistic lighting, subtle color palettes, and detailed textures. Capture the subject naturally, with dramatic depth and elegant composition reminiscent of 17th-century Spanish portraiture. Imbue the image with profound religious fervor, stark realism, and dramatic use of tenebrism to evoke strong emotions and piety."},{name:"SPOT THE DIFFERENCE",message:`Take a picture and duplicate it into two side-by-side frames showing the same scene. Keep the left frame as the original reference image.

Ensure the subject and all objects remain **exactly in the same position and fully visible** in both frames unless an object is intentionally removed. The subject should not be tilted or cropped out of frame; the entire area should be consistently in view on both sides.

In the right frame, introduce **5‚Äì7 subtle but clearly noticeable differences** in objects, colors, accessories, or minor details, such as:
‚Ä¢ Removing or adding small objects
‚Ä¢ Altering colors of items or clothing
‚Ä¢ Slightly repositioning accessories or props (without moving the subject)
‚Ä¢ Changing minor details of clothing, eyes, haircolor, hairstyle, or props
‚Ä¢ Adjusting the size of small items or background elements

Do not add labels, arrows, or text. The two images should be aligned, evenly sized, and easy to compare on a small screen. The final result should resemble a classic children‚Äôs "find the differences" puzzle, with differences discoverable but the overall scene consistent and fully framed.`},{name:"STAINED GLASS",message:"Take a picture and transform the image into a stained-glass artwork. Bold lead outlines, translucent color panels. Light glowing through the glass."},{name:"STANDING NEXT TO",message:"Take a picture and add a FAMOUS PERSON standing next to the subject. Match lighting and scale realistically."},{name:"STAR TREK",message:"Take a picture and place the subject on the bridge of the Starship Enterprise dressed in a Star Trek uniform. Make it photorealistic."},{name:"STAR WARS",message:"Take a picture and place the subject in a scene from the movie Start Wars.  Subject is dressed like a character in the movie. Make it photorealistic. Sci-fi realism."},{name:"STATUE",message:"Take a picture and make subject into a bronze statue. Aged patina, sculptural realism."},{name:"STENCIL",message:"Take a picture in the style of Stencil Art. High contrast, limited color palette."},{name:"STEREOSCOPE",message:"Take a picture and create a stereoscopic 3D side-by-side image from the photo. Maintain alignment and scale between left and right views. Subtle parallax for depth without distortion."},{name:"STORY MOMENT",message:"Take a picture and transform the image into a single dramatic story moment. Imply what happened before and what will happen next through visual clues. Cinematic composition."},{name:"STREET ART",message:"Take a picture and transform the image into contemporary street art. Gritty textures, stenciled patterns, expressive composition, and urban color palette on a concrete or brick surface."},{name:"STRETCH ARMSTRONG",message:`Take a picture and transform the subject into a Stretch Armstrong‚Äìstyle action figure made of thick, rubbery material. Preserve the subject‚Äôs recognizable facial features while adapting them into a toy-like appearance with smooth skin, simplified details, and a slightly exaggerated jaw and expression.

Depict the subject‚Äôs arms, legs, or torso being stretched far beyond normal proportions, as if pulled by unseen hands or tension just outside the frame. The stretched areas should look elastic and dense, with believable thickness, subtle surface creases, and realistic stretch deformation rather than thin distortion.

Ensure the subject still resembles a physical toy: solid core, rounded forms, and consistent material texture. Use lighting and shadows that emphasize volume and rubbery sheen. Do not show injuries or damage. The final image should feel playful, nostalgic, and clearly readable on small screens.`},{name:"STUDENT ID",message:"Take a picture and create a realistic but clearly fictional student identification card featuring the subject‚Äôs photo. Style the photo to resemble a typical campus ID picture, with slightly awkward framing, flat lighting, mild motion blur or softness, and an unpolished snapshot quality rather than a flattering portrait. Design the ID to resemble the general style of a school or university commonly found near the subject‚Äôs location, using a fictional institution name inspired by regional themes. Include placeholder text, sample ID numbers, and decorative elements only. Preserve the subject‚Äôs recognizable facial features and neutral or mildly awkward expression. The final image should appear as a novelty or prop-style student ID, clearly non-functional and created for artistic purposes."},{name:"SUPERHERO",message:"Take a picture and transform the subject into a superhero from the DC or Marvel universe, preserving recognizable facial features and characteristics. Depict the subject performing an act of heroism or saving the day in a dramatic action scene, such as stopping a runaway train, rescuing civilians, or confronting a villain. Include dynamic superhero attire inspired by the subject‚Äôs clothing, colors, and traits, with capes, emblems, and iconic superhero elements. Use cinematic lighting, dramatic angles, and dynamic motion for a visually striking composition."},{name:"SURREAL LANDSCAPE",message:"Take a picture and transform into a surreal landscape featuring a dreamlike quality pushing the boundaries of reality. Conjure a scene that has imaginative and otherworldly elements."},{name:"SURREALISM",message:"Take a picture in the style of Surrealist art. Include dreamlike imagery, illogical juxtapositions, automatism, vivid dream imagery, symbolism, and a sense of absurdity."},{name:"TABLOID",message:'Take a picture in the style of a Newspaper tabloid. The tabloid is the National Equirer. Headline: "SCANDAL!!!".'},{name:"TAPESTRY",message:"Take a picture and convert the image into a woven tapestry. Textile texture, medieval storytelling style."},{name:"TAROT CARD",message:"Take a picture and transform the subject into a detailed tarot card illustration. Depict the subject as the central figure, preserving recognizable facial features and posture while adapting them into a stylized, symbolic art style inspired by traditional tarot imagery. Surround the subject with meaningful symbols, patterns, and motifs drawn from the subject‚Äôs appearance and surroundings. Include a decorative border and a card title at the top or bottom. Ensure the composition resembles a complete tarot card, with balanced layout, rich illustration detail, and a timeless, mystical aesthetic. The result should be a full view of the card with a relevant background behind the card."},{name:"TEXT LOGO",message:`Take a picture and generate a minimal logo derived purely from text, such as initials, monograms, or typographic lettermarks. This mode affects header branding only.

Do not introduce pictorial icons, illustrations, or decorative graphics. The logo should be subtle, professional, and typography-driven, integrating naturally into the existing header without altering layout hierarchy.

If other document or legal modes are active, ensure the logo remains understated and does not compete with formal structure.`},{name:"THERMAL",message:"Take a picture and transform the image into thermal imaging. False-color heat mapping. High contrast."},{name:"TIBETAN THANGKA",message:"Take a picture and transform the image into Tibetan Thangka style painting. Highly detailed line work, symbolic composition, rich colors, and spiritual iconography."},{name:"TILT-SHIFT",message:"Take a picture and Apply tilt-shift photography effect. Selective focus creating a miniature diorama look. Blurred foreground and background."},{name:"TIME DILATION",message:"Take a picture and depict the image as if time is slowed or fractured. Motion echoes, temporal distortions."},{name:"TIME MAGAZINE",message:'Take a picture in the style of a polished TIME magazine cover. Title: "PERSON OF THE YEAR".'},{name:"TINY SELVES",message:"Take a picture and transform the subject so that their entire face and body are composed exclusively from hundreds of tiny, complete versions of the subject. There must be NO underlying full-size face, skin, or body visible anywhere. Every facial feature (eyes, nose, mouth), contour, and body shape must be formed only by the placement, density, and orientation of the tiny figures. The tiny versions should act like living building blocks, posed and arranged to define edges, shading, and structure. From a distance, the subject must read clearly as a complete human figure; up close, the image must resolve entirely into individual miniature subjects. Use consistent lighting and perspective so the construction feels intentional, surreal, and visually mind-bending. Do not partially fill, overlay, or decorate a normal body ‚Äî the tiny figures ARE the body."},{name:"TINY WORLD",message:"Take a picture and transform the scene so the subject appears miniature. Environment becomes massive. Tilt-shift realism."},{name:"TONIGHT SHOW INTERVIEW",message:"Take a picture and place the subject on the late-night talk show set of The Tonight Show. Preserve the subject‚Äôs facial features, personality, and clothing while adapting them naturally to the environment. Include the iconic desk, host chair, stage lighting, and background elements such as cityscape backdrops. Show the subject interacting with the host, engaging in conversation, or reacting to jokes. Ensure the scene captures the lively, polished, and humorous atmosphere of the late-night talk show while keeping the subject clearly identifiable."},{name:"TOPIARY",message:"Take a picture and transform the subject into a living topiary sculpture. Preserve the subject‚Äôs recognizable facial structure, hairstyle silhouette, body proportions, and clothing shapes translated into carefully trimmed foliage and greenery. Use dense leaves, hedges, vines, and floral textures shaped with precision pruning. The subject must appear grown organically from plants, not carved stone. Natural outdoor lighting, garden environment, and botanical realism with visible leaf detail and depth."},{name:"TRADING CARD",message:`Take a picture and transform the subject into a fully visible collectible sports trading card with a vintage 1980s/1990s style. Ensure the entire card‚Äîincluding all borders, portrait, background, stats, and flavor text‚Äîis fully visible and centered in the frame. Randomly assign a sport (e.g., basketball, soccer, baseball, football, tennis) for each render.

Include a clear portrait of the subject, a stylized action background, and a card border with realistic texture, embossing, and glossy surfaces. Apply worn effects such as yellowed edges, scratches, and slight discoloration for a vintage look.

Add the subject‚Äôs name, a mock team name or mascot, absurd over-the-top stats inspired by the subject‚Äôs appearance, pose, or personality (e.g., ‚Äú99% chance to eat pizza mid-game,‚Äù ‚ÄúCan balance a coffee cup while dribbling‚Äù), and humorous flavor text describing the subject. Allow external master prompt text to be appended to the flavor text.

Ensure everything is legible on a small screen, the subject remains instantly recognizable, and the final image clearly shows the full card without cropping.`},{name:"TV DRAMA",message:"Take a picture and place the subject into a famous dramatic television series scene. Preserve the subject‚Äôs facial features, expressions, and clothing while adapting them to the television drama style. Include cinematic lighting, moody atmosphere, and emotionally charged interactions with other characters or surroundings. The composition should convey tension, suspense, or deep narrative context, fully integrating the subject into the dramatic storyline of the show."},{name:"TV GAME SHOW",message:"Take a picture and place the subject into a famous television game show set. Preserve the subject‚Äôs facial features, personality, and clothing while transforming them into a contestant or host in the game show style. Include colorful set design, bright stage lighting, game props, podiums, or audience elements. Convey excitement, engagement, and fun, fully integrating the subject into the lively, competitive environment of the television show."},{name:"TV SITCOM",message:"Take a picture and place the subject into a famous television sitcom scene. Preserve the subject‚Äôs facial features, personality, and clothing while adapting them to the sitcom style. Include bright, cheerful lighting, a recognizable multi-camera set or typical sitcom living room, and humorous interactions with other characters or props. Ensure the scene conveys comedic timing, lightheartedness, and laugh-track energy, fully integrating the subject into the television comedy environment."},{name:"TYPICAL TOURIST",message:"Take a picture and place the subject in front of a randomly selected famous world landmark using classic forced-perspective tourist photography. The subject is intentionally interacting with the landmark through optical illusion‚Äîsuch as pinching it between their fingers, holding it up, pushing it, leaning against it, or framing it with their hands‚Äîwhile maintaining realistic scale and perspective from the camera‚Äôs point of view. Preserve the subject‚Äôs recognizable facial features, proportions, and identity. Carefully match camera angle, focal length, lighting direction, shadows, depth of field, and atmospheric perspective so the illusion feels natural and intentional rather than composited. The subject‚Äôs pose, hand placement, and eye line must align perfectly with the landmark to sell the visual trick. Capture the moment as if snapped at the exact perfect second. Render the final image with photorealistic travel-photo realism, playful humor, and precise forced-perspective accuracy."},{name:"UK POSTER ART 1930s",message:"Take a picture and transform the image into a 1930s British travel poster style art. Simplified shapes, bold typography, stylized landscapes, and clean graphic composition."},{name:"UNDER THE SEA",message:"Take a picture and place the subject underwater in a natural ocean environment. The subject is wearing streamlined, sport-style swimwear suitable for ocean swimming, styled realistically for an underwater setting. Create a photorealistic underwater seascape capturing the beauty of the ocean depths. Include coral reefs, exotic fish, and aquatic plants, with sunlight filtering through the water to create dramatic lighting and rich color variation. Emphasize realism, scale, and natural movement in the water."},{name:"VACATION",message:"Take a picture and have the subject standing in the middle of a CITY street somewhere in the world, with iconic and easily recognizable landmarks from that CITY in the background. The scene should capture the CITY life, detailed architecture, and natural lighting, with the person dressed in modern casual clothing, blending naturally into the environment. Make it photorealistic. 8k resolution."},{name:"VALENTINE",message:"Take a picture and frame the subject inside a visually prominent heart shape. Create a romantic Valentine‚Äôs Day‚Äìthemed scene with warm colors, soft lighting, and gentle decorative elements. Extract subtle flavor text and inspiration from the subject‚Äôs appearance, expression, clothing, and surroundings to generate a heartfelt Valentine‚Äôs Day poem. Display the complete poem clearly and fully within the image, ensuring all lines are legible and unobstructed. Integrate the poem naturally into the composition, such as on a decorative card, ribbon, or elegant text panel, while keeping the subject as the central focus. Render the final image with polished, high-quality detail."},{name:"VAMPIRE",message:"Take a picture and transform the subject into a realistic vampire while preserving the subject‚Äôs recognizable facial structure, body proportions, and identity. Subtly enhance features with pale, luminous skin, sharp yet refined fangs, intense eyes, and an elegant, supernatural presence. Adapt the subject‚Äôs clothing to a dark, timeless vampire aesthetic while maintaining their original style and personality. Place the subject naturally into a moody, atmospheric environment such as a gothic interior, moonlit street, or candlelit chamber. Use cinematic lighting, deep shadows, and rich textures to create a seductive, mysterious tone. Ensure the subject appears fully integrated into the scene and render the final image in photorealistic detail with depth, realism, and supernatural elegance."},{name:"VAN GOGH",message:"Take a picture and transform it into a painted scene inspired by Vincent van Gogh. Preserve the photographic composition but reinterpret it using bold, swirling brushstrokes, thick paint texture, and expressive movement. Use vivid blues, yellows, and greens with visible directional strokes. The subject should remain clearly recognizable while the surrounding scene feels alive with motion and emotion."},{name:"VAPORWAVE",message:"Take a picture and style it as if it were a retro-futuristic vaporwave album cover. Dreamy neon colors, glitchy textures, and retro-futuristic vibes. Inspired by 90s aesthetics and early internet culture, giving the photo a surreal, nostalgic feel, like a lost scene from an old VHS tape or a synthwave album cover."},{name:"VENDING MACHINE ITEM R1",message:"Take a picture and place the subject inside a vending machine slot as if they are a purchasable item. Show spiral coils, price tags without readable text, glass reflections, and interior lighting. The subject should appear physically contained behind the glass."},{name:"VHS 80s",message:"Take a picture and transform the image into 1980s VHS footage. Soft focus, scanlines, color bleed, timestamp artifacts. Analog nostalgia aesthetic."},{name:"VICTORIAN ENGRAVING",message:"Take a picture and transform the image into a Victorian engraving. Fine linework, cross-hatching, monochrome or sepia tones, and antique print texture."},{name:"VICTORIAN PHOTO",message:"Take a picture in the style of a Vintage photo of a Victorian family. Sepia tones, period attire."},{name:"VIDEO GAME AVATAR",message:"Take a picture and place the subject inside a popular video   game world (randomized across classic side-scrollers, platformers, fighting games, action-adventure, open-world RPGs, and modern AAA titles). Transform the subject into a fully playable in-game character while preserving recognizable facial features, body shape, clothing identity, and personality. Match the exact art style, rendering technique, camera perspective, UI scale, and lighting of the chosen game. The subject must look natively integrated into the game world‚Äînot composited‚Äîwith correct proportions, animation-ready pose, and environmental interaction. Entire background, props, and effects must be authentic to the video game universe."},{name:"VINTAGE POSTER",message:"Take a picture in the style of a vintage movie poster. The poster uses lithography for printing on lightweight paper, and includes hand-painted illustrations. Add flavor text to the film title, director, and actor names inspired by the content of the image."},{name:"VISUAL POETRY",message:"Take a picture and transform the image into visual poetry. Metaphor-driven imagery with emotional rhythm."},{name:"VULCAN TRANSFORMATION",message:"Take a picture and transform the subject into a realistic Vulcan. Preserve the subject‚Äôs recognizable facial features, bone structure, body proportions, and personality while adapting them to authentic Vulcan traits including pointed ears, subtle brow structure, calm expression, and controlled posture. Maintain the subject‚Äôs clothing identity translated into Vulcan-appropriate garments or Starfleet attire with clean lines and logical design. Neutral, disciplined body language, precise lighting, and understated realism. The subject must appear fully Vulcan, not human with cosmetic alterations."},{name:"WALDO",message:"Take a picture in the style of a Where‚Äôs Waldo illustration. The subject appears as Waldo with preserved traits, surrounded by many similar figures in a busy scene."},{name:"WANTED POSTER",message:'Take a picture in the style of an Old West Wanted Poster. Aged parchment, bullet holes. Title: "WANTED".'},{name:"WARNER BROS CARTOON",message:`Take a picture and transform the subject in the style of a classic Warner Bros. cartoon placed inside a classic Warner Bros. cartoon world inspired by mid-20th-century theatrical animation. Preserve the subject‚Äôs facial structure and recognizability while adapting lighting, color, outlines, and shading so the subject feels naturally integrated into a hand-painted cel-animation environment.

The scene should follow one of the following Warner Bros.‚Äìstyle formats:
‚Ä¢ A classic theatrical end-card inspired by the iconic "That‚Äôs all folks!" closing, where the subject‚Äôs face replaces the central character within concentric rings.
‚Ä¢ A classic cartoon scene where the subject appears alongside well-known Warner Bros. characters.

Use bold black outlines, saturated colors, soft cel-style shading, exaggerated expressions, and simple painted backgrounds consistent with classic Warner Bros. cartoons. Ensure scale, eye-line, and pose interactions feel believable and playful. Keep the composition clear and readable on small screens.

Allow externally provided instructions to specify the exact character(s), scene type, setting, or tone. If no external instructions are provided, automatically choose a fitting Warner Bros.‚Äìstyle scene.`},{name:"WATERCOLOR",message:"Take a picture in the style of a Watercolor painting. The pigments are mixed with water and applied to paper, creating luminous, transparent washes of color."},{name:"WES ANDERSON",message:"Take a picture and transform the image into a Wes Anderson-style scene. Perfect symmetry, centered composition. Pastel color palette, soft lighting. Whimsical, storybook tone."},{name:"WESTERN",message:"Take a picture and have the setting be an Old West town.  Make it photorealistic cowboy setting."},{name:"WOODCUT",message:"Take a picture and transform the image into a traditional woodcut print. Bold carved lines, high contrast. Limited color palette."},{name:"X-RAY",message:"Take a picture and transform the image into an X-ray view. Semi-transparent layers revealing internal structure. Monochrome glow."},{name:"YEARBOOK",message:"Take a picture and make the subject appear in an awkward, unflattering yearbook photo. Retro school photo style."},{name:"ZOO-TOPIA",message:"Take a picture and transform the subject into a realistic anthropomorphized animal character (Zootopia-style realism). Choose an animal form that naturally fits the subject‚Äôs facial structure, body type, and personality. Preserve recognizable facial features, expressions, proportions, hairstyle equivalents (fur patterns), and the subject‚Äôs exact clothing translated accurately onto the animal anatomy. The character must stand upright with human-like posture, hands, and gestures while retaining believable animal anatomy, fur detail, and species-specific traits. Photorealistic fur, skin, and fabric interaction with cinematic lighting. The subject must clearly remain the same individual, now reimagined as a believable anthropomorphic animal in a realistic world."}];let g=[...Qn],b=0,xe=-1,F=navigator.onLine,v=[],Ee=!1,he=null,yt=0;const In=500,xn="r1_camera_queue";let we,Ce,J;const Sn="r1_camera_styles";let ne=[];const An="r1_camera_favorites";function Zt(e){Fe&&(clearTimeout(Fe),Fe=null),je||(je=document.getElementById("style-reveal"),qt=document.getElementById("style-reveal-text")),!(!je||!qt)&&(qt.textContent=e,je.style.display="block",Fe=setTimeout(()=>{je&&(je.style.display="none"),Fe=null},1200))}function jt(){return new Promise((e,t)=>{const a=indexedDB.open(Xn,Zn);a.onerror=()=>{console.error("Failed to open IndexedDB:",a.error),t(a.error)},a.onsuccess=()=>{G=a.result,console.log("IndexedDB opened successfully"),e(G)},a.onupgradeneeded=n=>{G=n.target.result,G.objectStoreNames.contains(pe)||(G.createObjectStore(pe,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),console.log("Object store created"))}})}async function ei(){try{const e=localStorage.getItem("r1_gallery_index");if(!e){console.log("No old gallery data to migrate");return}const t=JSON.parse(e);let a=0;for(const n of t){const i="r1_gallery_"+n,s=localStorage.getItem(i);if(s){const l=JSON.parse(s);for(const o of l)await jn(o),a++;localStorage.removeItem(i)}}localStorage.removeItem("r1_gallery_index"),console.log(`Migration complete: ${a} images migrated to IndexedDB`),await Bt()}catch(e){console.error("Migration failed:",e)}}async function Bt(){try{G||await jt(),S=[];const a=G.transaction([pe],"readonly").objectStore(pe).getAll();return new Promise((n,i)=>{a.onsuccess=()=>{S=a.result||[];const s=localStorage.getItem(kn);s&&(Je=s),S.sort((l,o)=>o.timestamp-l.timestamp),console.log(`Gallery loaded: ${S.length} images`),n()},a.onerror=()=>{console.error("Failed to load gallery:",a.error),S=[],i(a.error)}})}catch(e){console.error("Error loading gallery:",e),S=[]}}async function jn(e){try{G||await jt();const n=G.transaction([pe],"readwrite").objectStore(pe).add(e);return new Promise((i,s)=>{n.onsuccess=()=>{console.log("Image saved to IndexedDB"),i()},n.onerror=()=>{console.error("Failed to save image:",n.error),s(n.error)}})}catch(t){console.error("Error saving image:",t)}}async function Bn(e){try{G||await jt();const n=G.transaction([pe],"readwrite").objectStore(pe).delete(e);return new Promise((i,s)=>{n.onsuccess=()=>{console.log("Image deleted from IndexedDB"),i()},n.onerror=()=>{console.error("Failed to delete image:",n.error),s(n.error)}})}catch(t){console.error("Error deleting image:",t)}}async function Cn(e){const t={id:Date.now().toString()+"-"+Math.random().toString(36).substr(2,9),imageBase64:e,timestamp:Date.now()};S.unshift(t),await jn(t),console.log(`Image added. Total: ${S.length}`)}function ti(e){return!_e&&!$e?e:e.filter(t=>{const a=new Date(t.timestamp);a.setHours(0,0,0,0);const n=a.getTime();let i=!0,s=!0;if(_e){const l=new Date(_e).getTime();i=n>=l}if($e){const l=new Date($e).getTime();s=n<=l}return i&&s})}function ai(e){const t=[...e];return Je==="newest"?t.sort((a,n)=>n.timestamp-a.timestamp):t.sort((a,n)=>a.timestamp-n.timestamp),t}function Qt(){let e=ti(S);return ai(e)}async function Y(){Se(),Fn(),A&&A.style.display==="block"&&Rt(),await Bt();const e=document.getElementById("gallery-modal"),t=document.getElementById("gallery-grid"),a=document.getElementById("gallery-pagination"),n=document.getElementById("page-info"),i=document.getElementById("prev-page"),s=document.getElementById("next-page"),l=document.getElementById("gallery-count");l&&(l.textContent=S.length);const o=document.getElementById("gallery-sort-order");o&&(o.value=Je);const r=Qt();if(r.length===0)t.innerHTML='<div class="gallery-empty">No photos match the selected filter.</div>',a.style.display="none";else{const u=Math.ceil(r.length/ht);U=Math.min(U,u);const m=(U-1)*ht,f=Math.min(m+ht,r.length),T=r.slice(m,f),E=document.createDocumentFragment();T.forEach(k=>{const M=document.createElement("div");if(M.className="gallery-item",ge&&x.has(k.id)&&M.classList.add("selected"),ge){const L=document.createElement("input");L.type="checkbox",L.className="gallery-item-checkbox",L.checked=x.has(k.id),L.addEventListener("click",ce=>{ce.stopPropagation(),on(k.id)}),M.appendChild(L)}const K=document.createElement("img");K.src=k.imageBase64,K.alt="Gallery image",K.loading="lazy",M.appendChild(K),M.onclick=()=>{if(ge)on(k.id),Y();else{const L=S.findIndex(ce=>ce.id===k.id);oi(L)}},E.appendChild(M)}),t.innerHTML="",t.appendChild(E),u>1?(a.style.display="flex",n.textContent=`Page ${U} of ${u}`,i.disabled=U===1,s.disabled=U===u):a.style.display="none"}e.style.display="flex"}async function ni(){document.getElementById("gallery-modal").style.display="none",U=1,await _n()}function ii(){const e=Qt(),t=Math.ceil(e.length/ht);U<t&&(U++,Y())}function si(){U>1&&(U--,Y())}function Gt(){U=1,Y()}function sn(e,t){const a=e==="start"?"gallery-start-date-btn":"gallery-end-date-btn",n=document.getElementById(a);if(!n)return;const i=n.querySelector(".date-button-text");if(i)if(t){const l=new Date(t+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});i.textContent=l,n.classList.add("has-date")}else i.textContent=e==="start"?"Start":"End",n.classList.remove("has-date")}function oi(e){if(e<0||e>=S.length)return;q=e;const t=S[e],a=document.getElementById("image-viewer"),n=document.getElementById("viewer-image"),i=document.getElementById("viewer-prompt");n.src=t.imageBase64,n.style.transform="scale(1) translate(0, 0)",W=1,i.value="",a.style.display="flex",document.getElementById("gallery-modal").style.display="none"}function ri(){document.getElementById("image-viewer").style.display="none",q=-1,W=1;const e=document.getElementById("gallery-modal");e.style.display="flex",Y()}async function li(){if(!(q<0||q>=S.length)&&confirm("Delete this image from gallery?")){const e=S[q];await Bn(e.id),S.splice(q,1),document.getElementById("image-viewer").style.display="none",q=-1,W=1,Y()}}function ci(){const e=document.getElementById("preset-selector");Ct();const t=document.getElementById("preset-count");t&&(t.textContent=g.length),e.style.display="flex",Q=!0,H=0,nt(),setTimeout(()=>{const a=document.getElementById("preset-list");a&&_t>0&&(a.scrollTop=_t)},50)}function bt(){const e=document.getElementById("preset-list");e&&(_t=e.scrollTop),document.getElementById("preset-selector").style.display="none",ft="",document.getElementById("preset-filter").value="",Q=!1,H=0,At=!1}function di(){if(!Q)return;const e=document.getElementById("preset-list");if(!e)return;const t=e.querySelectorAll(".preset-item");t.length!==0&&(H=(H-1+t.length)%t.length,nt())}function ui(){if(!Q)return;const e=document.getElementById("preset-list");if(!e)return;const t=e.querySelectorAll(".preset-item");t.length!==0&&(H=(H+1)%t.length,nt())}function nt(){const e=document.getElementById("preset-list");if(!e)return;const t=e.querySelectorAll(".preset-item");if(t.length!==0&&(t.forEach(a=>{a.classList.remove("preset-selected")}),H>=0&&H<t.length)){const a=t[H];a.classList.add("preset-selected"),a.scrollIntoView({behavior:"smooth",block:"nearest"})}}function mi(){if(!z)return;const e=document.getElementById("settings-submenu");if(!e)return;const t=e.querySelectorAll(".menu-section-button");t.length!==0&&(_=(_-1+t.length)%t.length,ea())}function hi(){if(!z)return;const e=document.getElementById("settings-submenu");if(!e)return;const t=e.querySelectorAll(".menu-section-button");t.length!==0&&(_=(_+1)%t.length,ea())}function ea(){const e=document.getElementById("settings-submenu");if(!e)return;const t=e.querySelectorAll(".menu-section-button");if(t.length!==0&&(t.forEach(a=>{a.classList.remove("menu-selected")}),_>=0&&_<t.length)){const a=t[_];a.classList.add("menu-selected"),a.scrollIntoView({behavior:"smooth",block:"nearest"})}}function gi(){const e=document.getElementById("resolution-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelectorAll(".resolution-item");t.length!==0&&($=($-1+t.length)%t.length,ta(t))}function pi(){const e=document.getElementById("resolution-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelectorAll(".resolution-item");t.length!==0&&($=($+1)%t.length,ta(t))}function ta(e){if(e.forEach(t=>t.classList.remove("menu-selected")),$>=0&&$<e.length){const t=e[$];t.classList.add("menu-selected"),t.scrollIntoView({behavior:"smooth",block:"nearest"})}}function fi(){const e=document.getElementById("burst-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function yi(){const e=document.getElementById("burst-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function bi(){const e=document.getElementById("timer-settings-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function vi(){const e=document.getElementById("timer-settings-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function wi(){const e=document.getElementById("master-prompt-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function Ti(){const e=document.getElementById("master-prompt-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function Ei(){const e=document.getElementById("motion-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function ki(){const e=document.getElementById("motion-submenu");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".submenu-list");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function Ii(){const e=document.getElementById("gallery-modal");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".gallery-scroll-container");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function xi(){const e=document.getElementById("gallery-modal");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".gallery-scroll-container");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function Si(){const e=document.getElementById("image-viewer");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".viewer-controls");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function Ai(){const e=document.getElementById("image-viewer");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".viewer-controls");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function ji(){const e=document.getElementById("style-editor");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".style-editor-body");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function Bi(){const e=document.getElementById("style-editor");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".style-editor-body");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function Ci(){const e=document.getElementById("queue-manager");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".queue-list");t&&(t.scrollTop=Math.max(0,t.scrollTop-80))}function Mi(){const e=document.getElementById("queue-manager");if(!e||e.style.display!=="flex")return;const t=e.querySelector(".queue-list");t&&(t.scrollTop=Math.min(t.scrollHeight-t.clientHeight,t.scrollTop+80))}function Pi(){if(!Q)return;const e=document.getElementById("preset-list");if(!e)return;const t=e.querySelectorAll(".preset-item");if(t.length===0||H>=t.length)return;const a=t[H];a&&a.click()}function Ct(){const e=document.getElementById("preset-list");e.innerHTML="";const a=g.filter(o=>{if(!ft)return!0;const r=ft.toLowerCase();return o.name.toLowerCase().includes(r)||o.message.toLowerCase().includes(r)}).sort((o,r)=>o.name.localeCompare(r.name)),n=a.filter(o=>Ne(o.name)),i=a.filter(o=>!Ne(o.name)),s=[...n,...i];if(s.length===0){e.innerHTML='<div class="preset-empty">No presets found</div>';return}s.forEach(o=>{const r=document.createElement("div");r.className="preset-item";const u=document.createElement("div");u.className="preset-name",u.textContent=o.name;const m=document.createElement("div");m.className="preset-description preset-description-hidden",m.textContent=o.message,r.appendChild(u),r.appendChild(m),r.onclick=()=>{m.classList.contains("preset-description-hidden")?m.classList.remove("preset-description-hidden"):Ri(o)},e.appendChild(r)});const l=document.getElementById("preset-count");l&&(l.textContent=s.length)}async function Ri(e){if(At){const a=re.findIndex(n=>n.name===e.name);a>-1?re.splice(a,1):re.push(e),Mn();return}if(window.batchProcessingActive){window.batchProcessingActive=!1;const a=window.batchImagesToProcess;window.batchImagesToProcess=null,bt();const i=document.getElementById("preset-selector").querySelector(".preset-selector-header h3");i.textContent="Select Preset",await Hi(e,a);return}const t=document.getElementById("viewer-prompt");t.value=e.message,bt()}function Oi(){if(q<0||q>=S.length){alert("No image selected");return}const t=document.getElementById("viewer-prompt").value.trim();if(!t){alert("Please enter a prompt or load a preset");return}const a=S[q];typeof PluginMessageHandler<"u"?(PluginMessageHandler.postMessage(JSON.stringify({message:Ot(t),pluginId:"com.r1.pixelart",imageBase64:a.imageBase64})),alert("Magic transform submitted! You can submit again with a different prompt.")):alert("Magic transform sent: "+t.substring(0,50)+"...")}function vt(){ge=!ge;const e=document.getElementById("batch-mode-toggle"),t=document.getElementById("batch-controls"),a=document.getElementById("batch-action-bar");ge?(e.textContent="Done",e.classList.add("active"),t.style.display="flex",a.style.display="flex",x.clear(),Mt(),Y()):(e.textContent="Select",e.classList.remove("active"),t.style.display="none",a.style.display="none",x.clear(),Y())}function Mt(){const e=document.getElementById("batch-selected-count"),t=document.getElementById("batch-apply-preset"),a=document.getElementById("batch-delete");e.textContent=`${x.size} selected`,t.disabled=x.size===0,a&&(a.disabled=x.size===0)}function Li(){const e=Qt();x.clear(),e.forEach(t=>x.add(t.id)),Mt(),Y()}function Ni(){x.clear(),Mt(),Y()}function on(e){x.has(e)?x.delete(e):x.add(e),Mt()}async function Di(){if(x.size===0)return;const e=document.getElementById("preset-selector"),t=e.querySelector(".preset-selector-header h3");t.textContent=`Select Preset (${x.size} images)`;const a=Array.from(x);window.batchProcessingActive=!0,window.batchImagesToProcess=a,Ct(),e.style.display="flex",Q=!0,H=0,nt()}async function Hi(e,t){const a=t||Array.from(x),n=a.length,i=document.createElement("div");i.className="batch-progress-overlay",i.innerHTML=`
    <div class="batch-progress-text">Processing <span id="batch-current">0</span> / ${n}</div>
    <div class="batch-progress-bar">
      <div class="batch-progress-fill" id="batch-progress-fill" style="width: 0%"></div>
    </div>
  `,document.body.appendChild(i);let s=0;for(const l of a){const o=S.find(r=>r.id===l);if(o)try{const r=Ot(e.message);typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({message:r,pluginId:"com.r1.pixelart",imageBase64:o.imageBase64})),s++,document.getElementById("batch-current").textContent=s,document.getElementById("batch-progress-fill").style.width=`${s/n*100}%`,await new Promise(u=>setTimeout(u,500))}catch(r){console.error(`Failed to process image ${l}:`,r)}}document.body.removeChild(i),ge=!1,x.clear(),vt(),alert(`Batch processing complete! ${s} of ${n} images submitted.`)}async function zi(){if(x.size===0)return;const e=x.size;if(!confirm(`Are you sure you want to delete ${e} selected image${e>1?"s":""}? This cannot be undone.`))return;const a=Array.from(x),n=document.createElement("div");n.className="batch-progress-overlay",n.innerHTML=`
    <div class="batch-progress-text">Deleting <span id="batch-current">0</span> / ${e}</div>
    <div class="batch-progress-bar">
      <div class="batch-progress-fill" id="batch-progress-fill" style="width: 0%"></div>
    </div>
  `,document.body.appendChild(n);let i=0;for(const s of a)try{await Bn(s),i++,document.getElementById("batch-current").textContent=i,document.getElementById("batch-progress-fill").style.width=`${i/e*100}%`}catch(l){console.error(`Failed to delete image ${s}:`,l)}document.body.removeChild(n),ge=!1,x.clear(),await Bt(),vt(),alert(`${i} of ${e} image${i>1?"s":""} deleted successfully.`)}function Ui(e){pt=e,re=[],At=!0;const t=document.getElementById("preset-selector"),a=t.querySelector(".preset-selector-header h3");a.innerHTML='Select Presets (Multi-Select) <span id="multi-preset-count" style="font-size: 12px; color: #666;">(0 selected)</span>';let n=document.getElementById("multi-preset-controls");if(!n){n=document.createElement("div"),n.id="multi-preset-controls",n.style.cssText="padding: 8px; background: #f5f5f5; border-bottom: 1px solid #ddd; display: flex; gap: 8px; justify-content: space-between;",n.innerHTML=`
      <button id="multi-preset-apply" class="batch-control-button" style="background: #4CAF50; color: white;">Apply Selected</button>
      <button id="multi-preset-cancel" class="batch-control-button">Cancel</button>
    `;const i=document.getElementById("preset-filter");i.parentNode.insertBefore(n,i.nextSibling)}n.style.display="flex",Ct(),Mn(),t.style.display="flex",Q=!0,H=0,nt(),document.getElementById("multi-preset-apply").onclick=qi,document.getElementById("multi-preset-cancel").onclick=Pn}function Mn(){document.getElementById("preset-list").querySelectorAll(".preset-item").forEach(n=>{const i=n.querySelector(".preset-name").textContent;re.some(l=>l.name===i)?(n.style.background="#e8f5e9",n.style.border="2px solid #4CAF50"):(n.style.background="",n.style.border="")});const a=document.getElementById("multi-preset-count");a&&(a.textContent=`(${re.length} selected)`)}function Pn(){At=!1,pt=null,re=[];const e=document.getElementById("multi-preset-controls");e&&(e.style.display="none");const t=document.querySelector(".preset-selector-header h3");t.textContent="Select Preset",bt()}async function qi(){if(re.length===0){alert("Please select at least one preset");return}if(!pt){alert("No image selected");return}const e=S.find(i=>i.id===pt);if(!e){alert("Image not found");return}const t=[...re];Pn();const a=document.createElement("div");a.className="batch-progress-overlay",a.innerHTML=`
    <div class="batch-progress-text">Applying preset <span id="batch-current">0</span> / ${t.length}</div>
    <div class="batch-progress-bar">
      <div class="batch-progress-fill" id="batch-progress-fill" style="width: 0%"></div>
    </div>
  `,document.body.appendChild(a);let n=0;for(const i of t)try{const s=Ot(i.message);typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({message:s,pluginId:"com.r1.pixelart",imageBase64:e.imageBase64})),n++,document.getElementById("batch-current").textContent=n,document.getElementById("batch-progress-fill").style.width=`${n/t.length*100}%`,await new Promise(l=>setTimeout(l,1e3))}catch(s){console.error(`Failed to apply preset ${i.name}:`,s)}document.body.removeChild(a),alert(`${n} preset${n>1?"s":""} applied successfully!`)}function Gi(){const e=document.getElementById("viewer-image"),t=document.querySelector(".image-viewer-container");let a=0,n=0,i=0,s=0,l=!1;t.addEventListener("touchstart",o=>{o.touches.length===2?(o.preventDefault(),dt=!0,an=rn(o.touches[0],o.touches[1]),nn=W):o.touches.length===1&&W>1&&(l=!0,i=o.touches[0].clientX-a,s=o.touches[0].clientY-n)},{passive:!1}),t.addEventListener("touchmove",o=>{if(dt&&o.touches.length===2){o.preventDefault();const u=rn(o.touches[0],o.touches[1])/an;W=Math.max(1,Math.min(nn*u,5)),e.style.transform=`scale(${W}) translate(${a}px, ${n}px)`}else l&&o.touches.length===1&&W>1&&(o.preventDefault(),a=o.touches[0].clientX-i,n=o.touches[0].clientY-s,e.style.transform=`scale(${W}) translate(${a}px, ${n}px)`)},{passive:!1}),t.addEventListener("touchend",o=>{o.touches.length<2&&(dt=!1),o.touches.length===0&&(l=!1,W===1&&(a=0,n=0,e.style.transform="scale(1) translate(0, 0)"))}),t.addEventListener("touchcancel",()=>{dt=!1,l=!1})}function rn(e,t){const a=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(a*a+n*n)}function ze(){if(!D)return;const e=document.getElementById("menu-styles-list");if(!e)return;const t=e.querySelectorAll(".style-item");if(t.length===0)return;t.forEach(n=>{n.classList.remove("menu-selected")}),N=Math.max(0,Math.min(N,t.length-1));const a=t[N];a&&(a.classList.add("menu-selected"),a.scrollIntoView({behavior:"smooth",block:"nearest"}))}function Fi(){if(!D||!fe)return;const e=document.getElementById("menu-styles-list");if(!e)return;const t=e.querySelectorAll(".style-item");t.length!==0&&(N=(N-1+t.length)%t.length,ze())}function Vi(){if(!D||!fe)return;const e=document.getElementById("menu-styles-list");if(!e)return;const t=e.querySelectorAll(".style-item");t.length!==0&&(N=(N+1)%t.length,ze())}function _i(){if(!D||!fe)return;const e=document.getElementById("menu-styles-list");if(!e)return;const t=e.querySelectorAll(".style-item");if(t.length===0||N>=t.length)return;const a=t[N];if(a&&a.querySelector(".style-name")){const s=st()[N];if(s){const l=g.findIndex(o=>o===s);l!==-1&&(b=l,O(),sa())}}}function $i(){const e=localStorage.getItem(Sn);if(e)try{const a=JSON.parse(e);g=g.filter(n=>n.internal),g.push(...a)}catch(a){console.error("Error loading styles:",a)}const t=localStorage.getItem(An);if(t)try{ne=JSON.parse(t),Array.isArray(ne)||(ne=[])}catch(a){console.error("Error parsing favorite styles:",a),ne=[]}Qi(),Xi(),Ki()}function Yi(e){try{localStorage.setItem(hn,e.toString())}catch(t){console.error("Error saving resolution:",t)}}function Ki(){const e=localStorage.getItem(gn);e!==null&&(Me=parseInt(e))}function Wi(){localStorage.setItem(gn,Me.toString())}function it(){c&&setTimeout(()=>{const e=Jt[Me];switch(c.style.filter="",e.value){case"daylight":c.style.filter="brightness(1.05) saturate(1.1)";break;case"cloudy":c.style.filter="brightness(1.1) saturate(0.95) sepia(0.05)";break;case"tungsten":c.style.filter="brightness(0.95) saturate(1.15) hue-rotate(-10deg)";break;case"fluorescent":c.style.filter="brightness(1.02) saturate(1.05) hue-rotate(5deg)";break;case"candlelight":c.style.filter="brightness(0.85) saturate(1.3) sepia(0.15) hue-rotate(-15deg)";break;case"moonlight":c.style.filter="brightness(0.7) saturate(0.8) hue-rotate(15deg) contrast(1.1)";break;case"auto":default:c.style.filter="";break}},50)}function Rn(e,t,a){const n=Jt[Me];if(n.value==="auto")return;const i=e.getImageData(0,0,t,a),s=i.data;let l=1,o=1,r=0,u=1;switch(n.value){case"daylight":l=1.05,o=1.1,r=5;break;case"cloudy":l=1.1,o=.95,r=10;break;case"tungsten":l=.95,o=1.15,r=-20;break;case"fluorescent":l=1.02,o=1.05,r=-10;break;case"candlelight":l=.85,o=1.3,r=25,u=.95;break;case"moonlight":l=.7,o=.8,r=-15,u=1.1;break}for(let m=0;m<s.length;m+=4){let f=s[m],T=s[m+1],E=s[m+2];r>0?(f=Math.min(255,f+r),T=Math.min(255,T+r*.5)):r<0&&(E=Math.min(255,E-r)),f*=l,T*=l,E*=l;const k=.2989*f+.587*T+.114*E;f=k+o*(f-k),T=k+o*(T-k),E=k+o*(E-k),f=((f/255-.5)*u+.5)*255,T=((T/255-.5)*u+.5)*255,E=((E/255-.5)*u+.5)*255,s[m]=Math.max(0,Math.min(255,f)),s[m+1]=Math.max(0,Math.min(255,T)),s[m+2]=Math.max(0,Math.min(255,E))}e.putImageData(i,0,0)}function Ji(){document.getElementById("settings-submenu").style.display="none";const e=document.getElementById("white-balance-submenu"),t=document.getElementById("white-balance-list");t.innerHTML="",Jt.forEach((a,n)=>{const i=document.createElement("div");i.className="resolution-item",n===Me&&i.classList.add("active");const s=document.createElement("span");s.className="resolution-name",s.textContent=a.name,i.appendChild(s),i.onclick=()=>{Me=n,Wi(),document.getElementById("current-white-balance-display").textContent=a.name,w&&it(),On()},t.appendChild(i)}),e.style.display="flex"}function On(){document.getElementById("white-balance-submenu").style.display="none",document.getElementById("settings-submenu").style.display="flex"}function Xi(){try{const e=localStorage.getItem(hn);if(e!==null){const t=parseInt(e,10);t>=0&&t<Qe.length&&(ie=t)}}catch(e){console.error("Error loading resolution:",e)}}function Ln(){const t=g.filter(i=>!i.internal).slice().sort((i,s)=>i.name.localeCompare(s.name)),a=t.filter(i=>Ne(i.name)),n=t.filter(i=>!Ne(i.name));return{favorites:a,regular:n}}function st(){const{favorites:e,regular:t}=Ln();return[...e,...t]}function Nn(){const e=st(),t=g[b];return e.findIndex(a=>a===t)}function Dn(e){const a=st()[e];return g.findIndex(n=>n===a)}function Hn(){try{localStorage.setItem(Sn,JSON.stringify(g))}catch(e){console.error("Error saving styles:",e)}}function Zi(e){const t=ne.indexOf(e);t>-1?ne.splice(t,1):ne.push(e),localStorage.setItem(An,JSON.stringify(ne)),rt()}function Qi(){const e=localStorage.getItem(yn);if(e!==null)try{const t=parseInt(e,10);t>=0&&t<g.length&&(b=t)}catch(t){console.error("Error loading last used style:",t)}}function Ne(e){return ne.includes(e)}function zn(){const e=g.filter(n=>!n.internal&&Ne(n.name));if(e.length>0){const n=e[Math.floor(Math.random()*e.length)];return g.findIndex(i=>i===n)}const t=g.filter(n=>!n.internal);if(t.length===0)return 0;const a=t[Math.floor(Math.random()*t.length)];return g.findIndex(n=>n===a)}function es(){X=!X;const e=document.getElementById("motion-toggle");if(X)e.classList.add("active"),e.title="Motion Detection: ON",showStatus("Motion Detection enabled - Press side button to start",3e3);else{e.classList.remove("active"),e.title="Motion Detection: OFF",na(),Ve&&(clearInterval(Ve),Ve=null);const t=document.getElementById("timer-countdown");t&&(t.style.display="none",t.classList.remove("countdown-fade-in","countdown-fade-out"));const a=document.getElementById("camera-button");a&&I.length>1&&(a.style.display="flex"),showStatus("Motion Detection OFF",2e3)}}function ts(){for(let e in We)if(We[e].seconds===Le)return parseInt(e);return 1}function as(){document.getElementById("settings-submenu").style.display="none",document.getElementById("motion-submenu").style.display="flex",St=!0,z=!1}function ns(){document.getElementById("motion-submenu").style.display="none",St=!1,Ae()}function Un(){const e=["Very Low","Low","Medium","High","Very High"],t=document.getElementById("current-motion-display");if(t){const a=Math.floor((50-Re)/10)+1,n=Math.max(1,Math.min(5,a));t.textContent=`Sensitivity: ${e[n-1]}`}}function ut(){const e={motionThreshold:Re,motionPixelThreshold:Xt,motionContinuousEnabled:Ie,motionCooldown:Oe,motionStartDelay:Le};try{localStorage.setItem(Tn,JSON.stringify(e))}catch(t){console.error("Failed to save motion settings:",t)}}function is(){try{const e=localStorage.getItem(Tn);if(e){const l=JSON.parse(e);Re=l.motionThreshold||30,Xt=l.motionPixelThreshold||.1,Ie=l.motionContinuousEnabled!==void 0?l.motionContinuousEnabled:!0,Oe=l.motionCooldown||2,Le=l.motionStartDelay||3}const t=document.getElementById("motion-sensitivity-slider");if(t){const l=Math.floor((50-Re)/10)+1;t.value=Math.max(1,Math.min(5,l))}const a=document.getElementById("motion-continuous-enabled");a&&(a.checked=Ie);const n=document.getElementById("motion-cooldown-slider");n&&(n.value=Oe);const i=document.getElementById("motion-start-delay-slider"),s=document.getElementById("motion-start-delay-value");if(i&&s){const l=ts();i.value=l,s.textContent=We[l].label}Un()}catch(e){console.error("Failed to load motion settings:",e)}}function ss(){P=!P;const e=document.getElementById("no-magic-status");e&&(e.textContent=P?"Enabled":"Disabled",e.style.color=P?"#4CAF50":"",e.style.fontWeight=P?"600":"");try{localStorage.setItem(En,JSON.stringify(P))}catch(t){console.error("Failed to save No Magic mode:",t)}P?showStatus("No Magic Mode ON - Camera only",2e3):showStatus("No Magic Mode OFF - AI prompts enabled",2e3)}function os(){try{const e=localStorage.getItem(En);if(e!==null){P=JSON.parse(e);const t=document.getElementById("no-magic-status");t&&(t.textContent=P?"Enabled":"Disabled",t.style.color=P?"#4CAF50":"",t.style.fontWeight=P?"600":"")}}catch(e){console.error("Failed to load No Magic mode:",e)}}function rs(){document.getElementById("settings-submenu").style.display="none",document.getElementById("tutorial-submenu").style.display="flex",He=!0,oe=0,z=!1,qn()}function ls(){document.getElementById("tutorial-submenu").style.display="none",He=!1,Ae()}function cs(e){const t=document.getElementById("tutorial-glossary"),a=document.getElementById("tutorial-content-area"),n=document.getElementById("section-"+e),i=document.getElementById("back-to-glossary");t&&a&&n&&(t.style.display="none",a.style.display="flex",i&&(i.style.display="block"),setTimeout(()=>{n.scrollIntoView({behavior:"smooth",block:"start"})},100))}function qn(){const e=document.getElementById("tutorial-glossary"),t=document.getElementById("tutorial-content-area"),a=document.getElementById("back-to-glossary");e&&t&&(t.style.display="none",e.style.display="block",a&&(a.style.display="none"),oe=0,setTimeout(()=>{aa()},50))}function ds(){if(!He)return;const e=document.getElementById("tutorial-glossary");if(e&&e.style.display!=="none"){const n=e.querySelectorAll(".glossary-item");if(n.length===0)return;oe=(oe-1+n.length)%n.length,aa();return}const t=document.getElementById("tutorial-content-area");if(!t||t.style.display!=="flex")return;if(!t.querySelector(".tutorial-content")){t.scrollTop=Math.max(0,t.scrollTop-100);return}}function us(){if(!He)return;const e=document.getElementById("tutorial-glossary");if(e&&e.style.display!=="none"){const n=e.querySelectorAll(".glossary-item");if(n.length===0)return;oe=(oe+1)%n.length,aa();return}const t=document.getElementById("tutorial-content-area");if(!t||t.style.display!=="flex")return;const a=t.querySelector(".submenu-list.tutorial-content");a&&(a.scrollTop=Math.min(a.scrollHeight-a.clientHeight,a.scrollTop+80))}function aa(){const e=document.getElementById("tutorial-glossary");if(!e)return;const t=e.querySelectorAll(".glossary-item");if(t.length!==0&&(t.forEach(a=>{a.classList.remove("menu-selected")}),oe>=0&&oe<t.length)){const a=t[oe];a.classList.add("menu-selected"),a.scrollIntoView({behavior:"smooth",block:"nearest"})}}function $t(){!c||!d||(ae=null,ct=!1,mt=setInterval(()=>{if(!X||ct||!Ie&&A.style.display==="block")return;ms()&&(console.log("Motion detected! Capturing..."),wt(),ct=!0,setTimeout(()=>{if(ct=!1,ae=null,A.style.display==="block"&&(A.style.display="none",c.style.display="block"),!Ie){na(),X=!1;const t=document.getElementById("motion-toggle");t.classList.remove("active"),t.title="Motion Detection: OFF",showStatus("Motion capture complete - Press eye button to reactivate",3e3)}},Oe*1e3))},500))}function na(){mt&&(clearInterval(mt),mt=null),ae=null}function ms(){if(!c||!d)return!1;const e=d.getContext("2d"),t=320,a=240;d.width=t,d.height=a,e.drawImage(c,0,0,t,a);const n=e.getImageData(0,0,t,a);if(!ae)return ae=n,!1;let i=0;const s=t*a;for(let o=0;o<n.data.length;o+=4){const r=Math.abs(n.data[o]-ae.data[o]),u=Math.abs(n.data[o+1]-ae.data[o+1]),m=Math.abs(n.data[o+2]-ae.data[o+2]);(r+u+m)/3>Re&&i++}return ae=n,i/s>Xt}function hs(){Be=!Be;const e=document.getElementById("random-toggle");Be?(e.classList.add("random-active"),p.textContent=`Random mode ON ‚Ä¢ ${g[b].name}`):(e.classList.remove("random-active"),O()),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"random_mode_toggled",enabled:Be,timestamp:Date.now()}))}function gs(){try{const e=localStorage.getItem(xn);e&&(v=JSON.parse(e))}catch(e){console.error("Error loading queue:",e),v=[]}}function ot(){try{localStorage.setItem(xn,JSON.stringify(v))}catch(e){console.error("Error saving queue:",e)}}function Ft(){we&&(F?(we.className="connection-status online",we.querySelector("#connection-text").textContent="Online"):(we.className="connection-status offline",we.querySelector("#connection-text").textContent="Offline"),we.style.display="block"),Ue()}function Ue(){if(Ce){const e=v.length;Ce.querySelector("#queue-count").textContent=e,Ce.style.display=e>0?"block":"none"}if(J){const e=v.length;J.querySelector("#sync-count").textContent=e,J.style.display=e>0&&F?"block":"none"}}function ps(){window.addEventListener("online",()=>{F=!0,Ft(),console.log("Connection restored"),v.length>0&&!Ee&&setTimeout(()=>{p.textContent=`Connection restored! Syncing ${v.length} photos...`,Ze()},1e3)}),window.addEventListener("offline",()=>{F=!1,Ft(),console.log("Connection lost"),Ee&&(p.textContent="Connection lost during sync")}),Ft()}async function fs(){try{return I=(await navigator.mediaDevices.enumerateDevices()).filter(t=>t.kind==="videoinput"),console.log("Available cameras:",I.length),I}catch(e){return console.error("Error enumerating cameras:",e),[]}}function Pt(){const e=Qe[ie];if(I.length===0)return{video:{facingMode:"environment",width:{ideal:e.width},height:{ideal:e.height}}};const a={video:{deviceId:{exact:I[R].deviceId},width:{ideal:e.width},height:{ideal:e.height}}};return ke()&&(a.video.advanced=[{zoom:1}]),a}async function ys(e){if(!(e===ie||!w)){ie=e,Yi(e);try{p.textContent="Changing resolution...",w&&w.getTracks().forEach(a=>a.stop());const t=Pt();w=await navigator.mediaDevices.getUserMedia(t),c.srcObject=w,B=w.getVideoTracks()[0],setTimeout(()=>{it()},100),await new Promise(a=>{c.onloadedmetadata=async()=>{try{await c.play(),Xe(),await qe(C),setTimeout(a,100)}catch(n){console.error("Video play error:",n),a()}}}),O(),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"resolution_changed",resolution:Qe[ie].name,timestamp:Date.now()}))}catch(t){console.error("Resolution change error:",t),p.textContent="Resolution change failed"}}}function Yt(){if(I.length===0)return"Default Camera";const e=I[R];let t=e.label;return!t||t===""?e.deviceId?t=`Camera ${R+1}`:t="Unknown Camera":(t=t.replace(/\([^)]*\)/g,"").trim(),t.toLowerCase().includes("front")?t="Front Camera":t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")?t="Back Camera":t.length>20&&(t=t.substring(0,17)+"...")),t}function ke(){if(I.length===0)return!1;const e=I[R];if(!e)return!1;const t=e.label.toLowerCase();return e.facingMode==="user"?!0:e.facingMode==="environment"?!1:t.includes("front")||t.includes("user")||t.includes("selfie")||t.includes("face")?!0:t.includes("back")||t.includes("rear")||t.includes("environment")?!1:I.length===2?R===1:R>0}function Xe(){try{ke()?(c.style.transform="translateZ(0)",c.style.webkitTransform="translateZ(0)"):(c.style.transform="scaleX(-1) translateZ(0)",c.style.webkitTransform="scaleX(-1) translateZ(0)")}catch(e){console.warn("Mirror transform skipped:",e)}}function bs(){if(!B)return!1;const e=B.getCapabilities();return e&&"zoom"in e}function Gn(){if(!B)return{min:1,max:5,step:.1};const e=B.getCapabilities();return e&&e.zoom?{min:Math.min(e.zoom.min||1,1),max:Math.max(e.zoom.max||5,5),step:e.zoom.step||.1}:{min:1,max:5,step:.1}}async function qe(e){if(B)try{if(bs()){const t=Gn(),a=Math.max(t.min,Math.min(e,t.max)),n={advanced:[{zoom:a}]},i=B.getCapabilities();i&&i.focusMode&&i.focusMode.includes("continuous")&&(n.advanced[0].focusMode="continuous"),await B.applyConstraints(n),C=a,ke()?(c.style.transform="translateZ(0)",c.style.webkitTransform="translateZ(0)"):(c.style.transform="scaleX(-1) translateZ(0)",c.style.webkitTransform="scaleX(-1) translateZ(0)")}else{const t=Math.max(1,Math.min(e,5));C=t,ke()?(c.style.transform=`scale(${t})`,c.style.webkitTransform=`scale(${t})`):(c.style.transform=`scaleX(-1) scale(${t})`,c.style.webkitTransform=`scaleX(-1) scale(${t})`)}}catch{const a=Math.max(1,Math.min(e,5));C=a,ke()?(c.style.transform=`scale(${a})`,c.style.webkitTransform=`scale(${a})`):(c.style.transform=`scaleX(-1) scale(${a})`,c.style.webkitTransform=`scaleX(-1) scale(${a})`)}}async function Kt(){if(B)try{const e=B.getCapabilities();e&&e.focusMode&&(e.focusMode.includes("single-shot")?(await B.applyConstraints({advanced:[{focusMode:"single-shot",zoom:C}]}),console.log("Triggered single-shot focus"),setTimeout(async()=>{try{await B.applyConstraints({advanced:[{focusMode:"continuous",zoom:C}]})}catch(t){console.log("Could not return to continuous focus:",t)}},500)):e.focusMode.includes("manual")&&(await B.applyConstraints({advanced:[{focusMode:"manual",zoom:C}]}),console.log("Triggered manual focus")))}catch(e){console.log("Focus adjustment not supported or failed:",e)}}async function vs(){if(zt||I.length<=1){console.log("Cannot switch camera: loading or not enough cameras");return}zt=!0;try{p.textContent="Switching camera...",w&&w.getTracks().forEach(t=>t.stop()),R=(R+1)%I.length,console.log(`Switching to camera ${R+1} of ${I.length}`);const e=Pt();w=await navigator.mediaDevices.getUserMedia(e),c.srcObject=w,B=w.getVideoTracks()[0],setTimeout(()=>{it()},100),await new Promise(t=>{c.onloadedmetadata=async()=>{try{await c.play(),Xe(),await qe(C),setTimeout(t,100)}catch(a){console.error("Video play error:",a),t()}}}),O(),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"camera_switched",cameraIndex:R,cameraLabel:Yt(),timestamp:Date.now()}))}catch(e){console.error("Camera switch error:",e),p.textContent="Camera switch failed",R=(R-1+I.length)%I.length}finally{zt=!1}}function ws(){try{const e=localStorage.getItem(pn);if(e){const t=JSON.parse(e);j=t.count||5;const a=t.speed||2;et=Pe[a].delay}}catch(e){console.error("Error loading burst settings:",e)}}function ln(e,t){try{localStorage.setItem(pn,JSON.stringify({count:e,speed:t}))}catch(a){console.error("Error saving burst settings:",a)}}function Ts(){me=!me;const e=document.getElementById("burst-toggle");me?(e.classList.add("burst-active"),p.textContent=`Burst mode ON (${j} photos) ‚Ä¢ ${g[b].name}`):(e.classList.remove("burst-active"),O()),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"burst_mode_toggled",enabled:me,count:j,timestamp:Date.now()}))}function Es(){Te=!Te;const e=document.getElementById("timer-toggle");Te?(e.classList.add("timer-active"),p.textContent=`Timer mode ON (${Z}s delay) ‚Ä¢ ${g[b].name}`):(e.classList.remove("timer-active"),se&&(clearInterval(se),se=null,document.getElementById("timer-countdown").style.display="none"),O()),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"timer_mode_toggled",enabled:Te,delay:Z,timestamp:Date.now()}))}function Wt(e){let t=Z;const a=document.getElementById("timer-countdown"),n=document.getElementById("timer-countdown-text");n.textContent=t,a.style.display="flex",a.classList.remove("countdown-fade-out"),a.classList.add("countdown-fade-in"),p.textContent=`Timer: ${t}s...`,se=setInterval(()=>{t--,t>0?(a.classList.remove("countdown-fade-in"),a.classList.add("countdown-fade-out"),setTimeout(()=>{n.textContent=t,a.classList.remove("countdown-fade-out"),a.classList.add("countdown-fade-in"),p.textContent=`Timer: ${t}s...`},500)):(a.classList.remove("countdown-fade-in"),a.classList.add("countdown-fade-out"),setTimeout(()=>{a.style.display="none",a.classList.remove("countdown-fade-out"),clearInterval(se),se=null,e(),De&&Te&&setTimeout(()=>{Te&&Wt(e)},tt*1e3)},500))},1e3)}function Fn(){se&&(clearInterval(se),se=null,document.getElementById("timer-countdown").style.display="none",O())}function ks(){try{const e=localStorage.getItem(fn);if(e){const t=JSON.parse(e);Z=t.delay||10,De=t.repeat||!1,tt=t.repeatInterval||1}}catch(e){console.error("Error loading timer settings:",e)}}function Vt(){try{localStorage.setItem(fn,JSON.stringify({delay:Z,repeat:De,repeatInterval:tt}))}catch(e){console.error("Error saving timer settings:",e)}}function Ye(){const e=document.getElementById("current-timer-display");if(e){const t=De?`Repeat (${Ke[Vn()].label})`:"No Repeat";e.textContent=`${Z}s, ${t}`}}function Vn(){for(const[e,t]of Object.entries(Ke))if(t.seconds===tt)return parseInt(e);return 1}async function cn(){if(!(!w||Ut||A.style.display==="block")){Ut=!0,p.textContent=`Burst mode: Taking ${j} photos...`;for(let e=0;e<j;e++)p.textContent=`Burst ${e+1}/${j}...`,Is(e+1),e<j-1&&await new Promise(t=>setTimeout(t,et));Ut=!1,p.textContent=`Burst complete! ${j} photos saved.`,F&&!Ee?setTimeout(()=>{Ze()},500):F||(p.textContent=`Burst complete! ${j} photos queued (offline).`),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"burst_complete",count:j,timestamp:Date.now()})),setTimeout(()=>{me?p.textContent=`Burst mode ON (${j} photos) ‚Ä¢ ${g[b].name}`:O()},2e3)}}function Is(e){if(!w)return;Be&&(b=zn()),d.width=c.videoWidth,d.height=c.videoHeight;const t=d.getContext("2d",{willReadFrequently:!1,alpha:!1});t.clearRect(0,0,d.width,d.height);const a=d.width/C,n=d.height/C,i=(d.width-a)/2,s=(d.height-n)/2;if(ke())t.drawImage(c,i,s,a,n,0,0,d.width,d.height);else{t.save(),t.scale(-1,1),t.drawImage(c,i,s,a,n,-d.width,0,d.width,d.height),t.restore();const m=document.createElement("canvas");m.width=d.width,m.height=d.height;const f=m.getContext("2d");f.scale(-1,1),f.drawImage(d,-d.width,0),t.clearRect(0,0,d.width,d.height),t.drawImage(m,0,0)}Rn(t,d.width,d.height);const l=ie>=2?.7:.8,o=d.toDataURL("image/jpeg",l),r=g[b];Cn(o);const u={id:Date.now().toString()+"-"+e,imageBase64:o,preset:r,timestamp:Date.now()};v.push(u),ot(),Ue()}async function xs(){try{if(c=document.getElementById("video"),d=document.getElementById("canvas"),A=document.getElementById("captured-image"),p=document.getElementById("status"),gt=document.getElementById("reset-button"),document.getElementById("start-screen").querySelector(".start-text").textContent="Loading camera...",document.getElementById("start-button").disabled=!0,await fs(),I.length>1){const r=I.findIndex(u=>{const m=u.label.toLowerCase();return m.includes("back")||m.includes("rear")||m.includes("environment")});R=r!==-1?r:I.length-1}else R=0;const e=Pt();w=await navigator.mediaDevices.getUserMedia(e),c.srcObject=w,B=w.getVideoTracks()[0],setTimeout(()=>{it()},100),console.log("Camera initialized:",Yt()),gs(),ps(),await new Promise(r=>{c.onloadedmetadata=async()=>{try{await c.play(),Xe(),qe(1),c.addEventListener("playing",Xe),setTimeout(r,100)}catch(u){console.error("Video play error:",u),r()}}}),document.getElementById("start-screen").style.display="none",document.getElementById("camera-container").style.display="flex",p.style.display="block";const t=document.getElementById("camera-button");I.length>1&&(t.style.display="flex");const a=document.getElementById("menu-button");a&&(a.style.display="flex");const n=document.getElementById("burst-toggle");n&&(n.style.display="flex");const i=document.getElementById("random-toggle");i&&(i.style.display="flex");const s=document.getElementById("timer-toggle");s&&(s.style.display="flex");const l=document.getElementById("motion-toggle");l&&(l.style.display="flex");const o=document.getElementById("gallery-button");o&&(o.style.display="flex"),O(),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({status:"camera_ready",availableCameras:I.length,currentCamera:Yt(),timestamp:Date.now()}))}catch(e){console.error("Camera access error:",e),p.textContent="Camera access denied",typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({status:"camera_error",error:e.message,timestamp:Date.now()}))}}function Se(){w&&c&&(w.getTracks().forEach(e=>{e.stop()}),c.style.display="none",c.srcObject=null)}async function _n(){if(c)try{const e=Pt();w=await navigator.mediaDevices.getUserMedia(e),c.srcObject=w,B=w.getVideoTracks()[0],setTimeout(()=>{it()},100),await new Promise(t=>{c.onloadedmetadata=async()=>{try{await c.play(),Xe(),await qe(C),setTimeout(t,100)}catch(a){console.error("Video resume error:",a),t()}}}),c.style.display="block"}catch(e){console.error("Failed to resume camera:",e),p.textContent="Camera resume failed"}}function wt(){if(!w)return;Be&&(b=zn(),Zt(g[b].name)),d.width=c.videoWidth,d.height=c.videoHeight;const e=d.getContext("2d",{willReadFrequently:!1,alpha:!1});e.clearRect(0,0,d.width,d.height);const t=d.width/C,a=d.height/C,n=(d.width-t)/2,i=(d.height-a)/2;if(ke())e.drawImage(c,n,i,t,a,0,0,d.width,d.height);else{e.save(),e.scale(-1,1),e.drawImage(c,n,i,t,a,-d.width,0,d.width,d.height),e.restore();const f=document.createElement("canvas");f.width=d.width,f.height=d.height;const T=f.getContext("2d");T.scale(-1,1),T.drawImage(d,-d.width,0),e.clearRect(0,0,d.width,d.height),e.drawImage(f,0,0)}Rn(e,d.width,d.height);const s=ie>=2?.7:.8,l=d.toDataURL("image/jpeg",s);A.src=l,A.style.display="block",A.style.transform="none",c.style.display="none",X?gt.style.display="none":gt.style.display="block";const o=document.getElementById("camera-button");o&&(o.style.display="none");const r=document.getElementById("resolution-button");r&&(r.style.display="none"),Cn(l);const u=g[b],m={id:Date.now().toString(),imageBase64:l,preset:u,timestamp:Date.now()};if(v.push(m),ot(),Ue(),F){const f=P?"Photo saved!":"Photo saved! Uploading...";p.textContent=f,Ee||Ze()}else p.textContent=`Photo queued for sync (${v.length} in queue)`;typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"photo_captured",queued:!0,queueLength:v.length,timestamp:Date.now()}))}async function Ze(){if(v.length===0||Ee)return;if(!F){p.textContent="Cannot sync - offline";return}Ee=!0,J.disabled=!0,J.classList.add("syncing"),console.log(`Syncing ${v.length} queued photos...`);const e=v.length;let t=0;for(;v.length>0&&F;){const a=v[0];try{if(p.textContent=`Syncing ${t+1}/${e}...`,typeof PluginMessageHandler<"u"&&!P&&PluginMessageHandler.postMessage(JSON.stringify({message:Ot(a.preset.message),pluginId:"com.r1.pixelart",imageBase64:a.imageBase64})),await new Promise(n=>setTimeout(n,500)),F)v.shift(),t++,ot(),Ue();else{console.log("Lost connection during sync");break}await new Promise(n=>setTimeout(n,1e3))}catch(n){console.error("Sync error:",n),p.textContent="Sync error - will retry later";break}}if(Ee=!1,J.disabled=!1,J.classList.remove("syncing"),v.length===0){const a=P?`All ${t} photos saved!`:`All ${t} photos synced successfully!`;p.textContent=a,setTimeout(()=>{O()},2e3)}else F?p.textContent=`Synced ${t}. ${v.length} remaining.`:p.textContent=`Connection lost. ${v.length} photos queued.`;typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"sync_complete",synced:t,remaining:v.length,timestamp:Date.now()}))}function ia(){const e=document.getElementById("queue-manager"),t=document.getElementById("queue-list");t.innerHTML="",v.length===0?t.innerHTML=`
      <div class="queue-empty">
        <h4>No Photos in Queue</h4>
        <p>Take photos while offline and they'll appear here for syncing.</p>
      </div>
    `:v.forEach((a,n)=>{const i=document.createElement("div");i.className="queue-item",i.innerHTML=`
        <div class="queue-item-header">
          <span class="queue-item-style">${a.preset.name}</span>
          <span class="queue-item-time">${new Date(a.timestamp).toLocaleString()}</span>
        </div>
        <img src="${a.imageBase64}" class="queue-item-preview" alt="Queued photo">
        <div class="queue-item-actions">
          <button onclick="removeFromQueue(${n})" class="delete-button">Remove</button>
          <button onclick="previewQueueItem(${n})" class="secondary">Preview</button>
        </div>
      `,t.appendChild(i)}),e.style.display="flex"}function Ss(){document.getElementById("queue-manager").style.display="none"}function As(e){confirm("Remove this photo from the sync queue?")&&(v.splice(e,1),ot(),Ue(),ia())}function js(e){const t=v[e];alert(`Style: ${t.preset.name}
Prompt: ${t.preset.message}
Saved: ${new Date(t.timestamp).toLocaleString()}`)}function $n(){confirm("Clear all photos from the queue? This cannot be undone.")&&(v=[],ot(),Ue(),ia())}window.addEventListener("sideClick",()=>{if(console.log("Side button pressed"),z){const n=document.getElementById("settings-submenu").querySelectorAll(".menu-section-button");n.length>0&&_<n.length&&n[_].click();return}if(at){const n=document.getElementById("resolution-submenu").querySelectorAll(".resolution-item");n.length>0&&$<n.length&&n[$].click();return}if(Q){Pi();return}if(D&&fe){_i();return}const e=document.getElementById("start-screen"),t=document.getElementById("start-button");if(e&&e.style.display!=="none")console.log("Simulating tap on start button"),setTimeout(()=>{t.click()},100);else if(A&&A.style.display==="block")Rt();else{if(X){if(Le>0){let a=Le;const n=document.getElementById("timer-countdown"),i=document.getElementById("timer-countdown-text");i.textContent=a,n.style.display="flex",n.classList.remove("countdown-fade-out"),n.classList.add("countdown-fade-in"),p.textContent=`Motion Detection starting in ${a}s...`,Ve=setInterval(()=>{a--,a>0?(n.classList.remove("countdown-fade-in"),n.classList.add("countdown-fade-out"),setTimeout(()=>{i.textContent=a,n.classList.remove("countdown-fade-out"),n.classList.add("countdown-fade-in"),p.textContent=`Motion Detection starting in ${a}s...`},500)):(n.classList.remove("countdown-fade-in"),n.classList.add("countdown-fade-out"),setTimeout(()=>{n.style.display="none",n.classList.remove("countdown-fade-out"),clearInterval(Ve),X&&c&&c.readyState>=2&&($t(),showStatus("Motion Detection active - Move in front of camera",3e3))},500))},1e3)}else $t(),showStatus("Motion Detection ON - Move in front of camera",3e3);return}Te?Wt(me?()=>cn():()=>wt()):me?cn():wt()}});window.addEventListener("scrollUp",()=>{var t,a,n,i;if(console.log("Scroll wheel: up"),Q){di();return}if(D&&fe){Fi();return}if(He){ds();return}if(St){Ei();return}if(xt){wi();return}if(It){bi();return}if(kt){fi();return}if(at){gi();return}if(z){mi();return}if(((t=document.getElementById("gallery-modal"))==null?void 0:t.style.display)==="flex"){Ii();return}if(((a=document.getElementById("image-viewer"))==null?void 0:a.style.display)==="flex"){Si();return}if(((n=document.getElementById("style-editor"))==null?void 0:n.style.display)==="flex"){ji();return}if(((i=document.getElementById("queue-manager"))==null?void 0:i.style.display)==="flex"){Ci();return}if(!w||A.style.display==="block")return;const e=Date.now();e-yt<In||(yt=e,he&&clearTimeout(he),he=setTimeout(()=>{let s=Nn();const l=st();s=(s-1+l.length)%l.length,b=Dn(s);const o=g[b];o&&Zt(o.name),O(),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"preset_changed",preset:g[b].name,timestamp:Date.now()})),he=null},50))});window.addEventListener("scrollDown",()=>{var t,a,n,i;if(console.log("Scroll wheel: down"),Q){ui();return}if(D&&fe){Vi();return}if(He){us();return}if(St){ki();return}if(xt){Ti();return}if(It){vi();return}if(kt){yi();return}if(at){pi();return}if(z){hi();return}if(((t=document.getElementById("gallery-modal"))==null?void 0:t.style.display)==="flex"){xi();return}if(((a=document.getElementById("image-viewer"))==null?void 0:a.style.display)==="flex"){Ai();return}if(((n=document.getElementById("style-editor"))==null?void 0:n.style.display)==="flex"){Bi();return}if(((i=document.getElementById("queue-manager"))==null?void 0:i.style.display)==="flex"){Mi();return}if(!w||A.style.display==="block")return;const e=Date.now();e-yt<In||(yt=e,he&&clearTimeout(he),he=setTimeout(()=>{let s=Nn();const l=st();s=(s+1)%l.length,b=Dn(s);const o=g[b];o&&Zt(o.name),O(),typeof PluginMessageHandler<"u"&&PluginMessageHandler.postMessage(JSON.stringify({action:"preset_changed",preset:g[b].name,timestamp:Date.now()})),he=null},50))});function O(){b=Math.max(0,Math.min(b,g.length-1));const e=g[b];if(B)try{const t={};B.applyConstraints(t)}catch(t){console.error("Error applying preset constraints:",t)}p&&(p.textContent=`Style: ${e.name}`),localStorage.setItem(yn,b.toString()),D&&ze()}window.onPluginMessage=function(e){console.log("Received plugin message:",e),e&&e.status==="processing"?p.textContent="AI is processing your image...":e&&e.status==="complete"?p.textContent="AI transformation complete!":e&&e.error&&(p.textContent="Error: "+e.error)};typeof PluginMessageHandler<"u"?(console.log("Flutter channel is available"),PluginMessageHandler.postMessage(JSON.stringify({message:"AI Camera Styles initialized",pluginId:"com.r1.pixelart"}))):console.log("Running in development mode - Flutter channel not available");function Rt(){A.style.display="none",X&&Ie||(na(),X&&$t()),A.style.transform="none",c.style.display="block",gt.style.display="none";const e=document.getElementById("camera-button");e&&I.length>1&&(e.style.display="flex");const t=document.getElementById("resolution-button");t&&(t.style.display="flex"),setTimeout(()=>{qe(C)},50),O()}function dn(e,t){const a=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(a*a+n*n)}function Bs(){const e=document.getElementById("video");e.addEventListener("touchstart",a=>{a.touches.length===2&&(a.preventDefault(),Ge=!0,en=dn(a.touches[0],a.touches[1]),tn=C)},{passive:!1});let t=null;e.addEventListener("touchmove",a=>{if(Ge&&a.touches.length===2){a.preventDefault();const i=dn(a.touches[0],a.touches[1])/en,s=tn*i,l=Gn(),o=Math.max(l.min,Math.min(s,l.max));t||(qe(o),t=setTimeout(()=>{t=null},50))}},{passive:!1}),e.addEventListener("touchend",a=>{a.touches.length<2&&(Ge&&Kt(),Ge=!1,console.log("Pinch ended, current zoom:",C))}),e.addEventListener("touchcancel",()=>{Ge=!1})}function Cs(){const e=document.getElementById("video");let t=null,a=!1;e.addEventListener("touchstart",n=>{!D&&A.style.display==="none"&&(a=!1,t=setTimeout(()=>{a=!0;const i=n.touches[0],s=e.getBoundingClientRect(),l=i.clientX-s.left,o=i.clientY-s.top,r=document.createElement("div");r.style.position="absolute",r.style.left=l+"px",r.style.top=o+"px",r.style.width="80px",r.style.height="80px",r.style.border="3px solid #4CAF50",r.style.borderRadius="50%",r.style.transform="translate(-50%, -50%)",r.style.pointerEvents="none",r.style.animation="capturePulse 0.4s ease-out",r.style.zIndex="150",r.style.backgroundColor="rgba(76, 175, 80, 0.2)",document.getElementById("camera-container").appendChild(r),setTimeout(()=>{r.remove()},400),wt(),navigator.vibrate&&navigator.vibrate(50)},500))}),e.addEventListener("touchend",n=>{if(t&&(clearTimeout(t),t=null),!a&&!D&&A.style.display==="none"){Kt();const i=n.changedTouches[0],s=e.getBoundingClientRect(),l=i.clientX-s.left,o=i.clientY-s.top,r=document.createElement("div");r.style.position="absolute",r.style.left=l+"px",r.style.top=o+"px",r.style.width="60px",r.style.height="60px",r.style.border="2px solid #FE5F00",r.style.borderRadius="50%",r.style.transform="translate(-50%, -50%)",r.style.pointerEvents="none",r.style.animation="focusPulse 0.6s ease-out",r.style.zIndex="150",document.getElementById("camera-container").appendChild(r),setTimeout(()=>{r.remove()},600)}}),e.addEventListener("touchcancel",n=>{t&&(clearTimeout(t),t=null)}),e.addEventListener("click",n=>{if(!D&&A.style.display==="none"){Kt();const i=e.getBoundingClientRect(),s=n.clientX-i.left,l=n.clientY-i.top,o=document.createElement("div");o.style.position="absolute",o.style.left=s+"px",o.style.top=l+"px",o.style.width="60px",o.style.height="60px",o.style.border="2px solid #FE5F00",o.style.borderRadius="50%",o.style.transform="translate(-50%, -50%)",o.style.pointerEvents="none",o.style.animation="focusPulse 0.6s ease-out",o.style.zIndex="150",document.getElementById("camera-container").appendChild(o),setTimeout(()=>{o.remove()},600)}})}function rt(){const e=document.getElementById("unified-menu");A&&A.style.display==="block"&&Rt(),Wn();const t=document.getElementById("styles-count");t&&(t.textContent=g.length),Yn(),Tt(),Et(),Ye(),D=!0,fe=!0,Se(),Fn(),e.style.display="flex"}async function sa(){D=!1,fe=!1,N=0,ue="",document.getElementById("style-filter").value="",document.getElementById("unified-menu").style.display="none",await _n()}function Ae(){const e=document.getElementById("settings-submenu"),t=document.getElementById("unified-menu");Yn(),Tt(),Ye(),Et(),t.style.display="none",Se(),e.style.display="flex",z=!0,_=0,setTimeout(()=>{ea()},50)}function Ms(){document.getElementById("settings-submenu").style.display="none",z=!1,_=0,rt()}function Ps(){const e=document.getElementById("timer-settings-submenu"),t=document.getElementById("settings-submenu"),a=document.getElementById("timer-delay-slider"),n=document.getElementById("timer-delay-value"),i=document.getElementById("timer-repeat-enabled");if(a&&n){const o=bn.indexOf(Z);a.value=o!==-1?o+1:3,n.textContent=Z}i&&(i.checked=De);const s=document.getElementById("timer-repeat-interval-slider"),l=document.getElementById("timer-repeat-interval-value");if(s&&l){const o=Vn();s.value=o,l.textContent=Ke[o].label}t.style.display="none",Se(),e.style.display="flex",It=!0,z=!1}function Rs(){document.getElementById("timer-settings-submenu").style.display="none",It=!1,Ae()}function Os(){const e=document.querySelector(".styles-menu-scroll-container");e&&(e.scrollTo({top:0,behavior:"smooth"}),N=0,ze())}function Ls(){const e=document.querySelector(".styles-menu-scroll-container");if(e){e.scrollTo({top:e.scrollHeight,behavior:"smooth"});const t=document.getElementById("menu-styles-list");if(t){const a=t.querySelectorAll(".style-item");a.length>0&&(N=a.length-1,ze())}}}function Yn(){const e=document.getElementById("current-resolution-display");if(e){const t=Qe[ie];e.textContent=`${t.width}x${t.height}`}}function Tt(){const e=document.getElementById("current-burst-display");if(e){let t="Medium";for(const[a,n]of Object.entries(Pe))if(n.delay===et){t=n.label;break}e.textContent=`${j} photos, ${t}`}}function Ns(){document.getElementById("settings-submenu").style.display="none",Se();const e=document.getElementById("resolution-submenu"),t=document.getElementById("resolution-list");t.innerHTML="",Qe.forEach((a,n)=>{const i=document.createElement("div");i.className="resolution-item",n===ie&&i.classList.add("active");const s=document.createElement("span");s.className="resolution-name",s.textContent=a.name,i.appendChild(s),i.onclick=()=>{ys(n),Kn()},t.appendChild(i)}),e.style.display="flex",at=!0,z=!1,$=0,setTimeout(()=>{const a=e.querySelectorAll(".resolution-item");ta(a)},100)}async function Kn(){document.getElementById("resolution-submenu").style.display="none",at=!1,$=0,Ae()}function Ds(){document.getElementById("settings-submenu").style.display="none",Se();const e=document.getElementById("burst-submenu"),t=document.getElementById("burst-count-slider"),a=document.getElementById("burst-speed-slider"),n=document.getElementById("burst-count-value"),i=document.getElementById("burst-speed-value");if(t&&n&&(t.value=j,n.textContent=j),a&&i){let s=2;for(const[l,o]of Object.entries(Pe))if(o.delay===et){s=parseInt(l);break}a.value=s,i.textContent=Pe[s].label}e.style.display="flex",kt=!0,z=!1}async function Hs(){document.getElementById("burst-submenu").style.display="none",kt=!1,Ae()}function zs(){document.getElementById("settings-submenu").style.display="none",Se();const e=document.getElementById("master-prompt-submenu"),t=document.getElementById("master-prompt-enabled"),a=document.getElementById("master-prompt-text"),n=document.getElementById("master-prompt-char-count");t&&(t.checked=le),a&&(a.value=V,a.disabled=!le,n&&(n.textContent=V.length)),e.style.display="flex",xt=!0,z=!1}async function Us(){document.getElementById("master-prompt-submenu").style.display="none",xt=!1,Ae()}function Et(){const e=document.getElementById("current-master-prompt-display");if(e)if(le&&V.trim()){const t=V.substring(0,20);e.textContent=`Enabled: ${t}${V.length>20?"...":""}`}else le?e.textContent="Enabled (empty)":e.textContent="Disabled"}function un(){try{localStorage.setItem(vn,V),localStorage.setItem(wn,le.toString())}catch(e){console.error("Failed to save master prompt:",e)}}function qs(){try{const e=localStorage.getItem(vn),t=localStorage.getItem(wn);e!==null&&(V=e),t!==null&&(le=t==="true")}catch(e){console.error("Failed to load master prompt:",e)}}function Ot(e){return le&&V.trim()?`${e} ${V}`:e}function Wn(){const e=document.getElementById("menu-styles-list");e.innerHTML="",e.replaceWith(e.cloneNode(!1));const t=document.getElementById("menu-styles-list"),a=document.createDocumentFragment(),{favorites:n,regular:i}=Ln(),s=n.filter(r=>{if(!ue)return!0;const u=ue.toLowerCase();return r.name.toLowerCase().includes(u)||r.message.toLowerCase().includes(u)}),l=i.filter(r=>{if(!ue)return!0;const u=ue.toLowerCase();return r.name.toLowerCase().includes(u)||r.message.toLowerCase().includes(u)});if(s.length>0){const r=document.createElement("h3");r.className="menu-section-header",r.textContent="‚òÖ Favorites",a.appendChild(r),s.forEach(u=>{const m=mn(u);a.appendChild(m)})}if(l.length>0){const r=document.createElement("h3");r.className="menu-section-header",r.textContent=ue?"Search Results":"All Styles",a.appendChild(r),l.forEach(u=>{const m=mn(u);a.appendChild(m)})}if(l.length===0&&s.length===0&&ue){const r=document.createElement("div");r.className="menu-empty",r.textContent="No styles found",a.appendChild(r)}t.appendChild(a),t.addEventListener("click",Gs);const o=document.getElementById("styles-count");if(o){const r=s.length+l.length;o.textContent=r}ze()}function mn(e){const t=g.findIndex(l=>l===e),a=document.createElement("div");a.className="style-item",a.dataset.index=t,t===b&&a.classList.add("active");const n=document.createElement("button");n.className="style-favorite",n.textContent=Ne(e.name)?"‚≠ê":"‚òÜ",n.dataset.action="favorite",n.dataset.styleName=e.name;const i=document.createElement("span");i.className="style-name",i.textContent=e.name;const s=document.createElement("button");return s.className="style-edit",s.textContent="Edit",s.dataset.action="edit",s.dataset.index=t,a.appendChild(n),a.appendChild(i),a.appendChild(s),a}function Gs(e){const t=e.target;if(t.dataset.action==="favorite"){e.stopPropagation();const n=t.dataset.styleName;Zi(n);return}if(t.dataset.action==="edit"){e.stopPropagation();const n=parseInt(t.dataset.index);Fs(n);return}const a=t.closest(".style-item");if(a){const n=parseInt(a.dataset.index);isNaN(n)||(b=n,O(),sa())}}function Jn(e="Add New Style"){const t=document.getElementById("style-editor");document.getElementById("editor-title").textContent=e,t.style.display="flex"}function oa(){document.getElementById("style-editor").style.display="none",document.getElementById("style-name").value="",document.getElementById("style-message").value="",document.getElementById("delete-style").style.display="none",xe=-1}function Fs(e){xe=e;const t=g[e];document.getElementById("style-name").value=t.name,document.getElementById("style-message").value=t.message,document.getElementById("delete-style").style.display="block",Jn("Edit Style")}function Vs(){const e=document.getElementById("style-name").value.trim(),t=document.getElementById("style-message").value.trim();if(!e||!t){alert("Please fill in both name and AI prompt");return}xe>=0?g[xe]={name:e,message:t}:g.push({name:e,message:t}),Hn(),oa(),rt()}function _s(){xe>=0&&g.length>1&&confirm("Delete this style?")&&(g.splice(xe,1),b>=g.length&&(b=g.length-1),Hn(),oa(),rt())}function $s(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.currentTime,a=e.createOscillator(),n=e.createGain(),i=e.createBiquadFilter();a.type="square",a.frequency.setValueAtTime(2400,t),a.frequency.exponentialRampToValueAtTime(1800,t+.012),i.type="highpass",i.frequency.setValueAtTime(1500,t),n.gain.setValueAtTime(.5,t),n.gain.exponentialRampToValueAtTime(.001,t+.015),a.connect(i),i.connect(n),n.connect(e.destination),a.start(t),a.stop(t+.015);const s=e.createOscillator(),l=e.createGain(),o=e.createBiquadFilter();s.type="square",s.frequency.setValueAtTime(1200,t+.015),s.frequency.exponentialRampToValueAtTime(200,t+.023),o.type="bandpass",o.frequency.setValueAtTime(1500,t+.015),o.Q.setValueAtTime(2,t+.015),l.gain.setValueAtTime(.4,t+.015),l.gain.exponentialRampToValueAtTime(.001,t+.03),s.connect(o),o.connect(l),l.connect(e.destination),s.start(t+.015),s.stop(t+.03);const r=e.createOscillator(),u=e.createGain();r.type="triangle",r.frequency.setValueAtTime(400,t+.023),r.frequency.setValueAtTime(450,t+.027),r.frequency.setValueAtTime(380,t+.031),r.frequency.setValueAtTime(420,t+.035),u.gain.setValueAtTime(0,t+.023),u.gain.linearRampToValueAtTime(.15,t+.025),u.gain.exponentialRampToValueAtTime(.001,t+.04),r.connect(u),u.connect(e.destination),r.start(t+.023),r.stop(t+.04);const m=e.createOscillator(),f=e.createGain(),T=e.createBiquadFilter();m.type="square",m.frequency.setValueAtTime(800,t+.05),m.frequency.exponentialRampToValueAtTime(150,t+.06),T.type="bandpass",T.frequency.setValueAtTime(1e3,t+.05),T.Q.setValueAtTime(2,t+.05),f.gain.setValueAtTime(.5,t+.05),f.gain.exponentialRampToValueAtTime(.001,t+.07),m.connect(T),T.connect(f),f.connect(e.destination),m.start(t+.05),m.stop(t+.07);const E=e.createOscillator(),k=e.createGain(),M=e.createBiquadFilter();E.type="sine",E.frequency.setValueAtTime(180,t+.05),E.frequency.exponentialRampToValueAtTime(120,t+.095),M.type="lowpass",M.frequency.setValueAtTime(300,t+.05),k.gain.setValueAtTime(0,t+.05),k.gain.linearRampToValueAtTime(.2,t+.055),k.gain.exponentialRampToValueAtTime(.001,t+.105),E.connect(M),M.connect(k),k.connect(e.destination),E.start(t+.05),E.stop(t+.105);const K=e.sampleRate*.08,L=e.createBuffer(1,K,e.sampleRate),ce=L.getChannelData(0);for(let ve=0;ve<K;ve++){const lt=Math.sin(ve/200)*.5+.5;ce[ve]=(Math.random()*2-1)*lt}const ye=e.createBufferSource();ye.buffer=L;const de=e.createBiquadFilter();de.type="bandpass",de.frequency.setValueAtTime(3e3,t+.07),de.Q.setValueAtTime(1,t+.07);const ee=e.createGain();ee.gain.setValueAtTime(0,t+.07),ee.gain.linearRampToValueAtTime(.12,t+.075),ee.gain.linearRampToValueAtTime(.12,t+.125),ee.gain.exponentialRampToValueAtTime(.001,t+.15),ye.connect(de),de.connect(ee),ee.connect(e.destination),ye.start(t+.07),ye.stop(t+.15);const te=e.createOscillator(),be=e.createGain();te.type="square",te.frequency.setValueAtTime(600,t+.145),te.frequency.exponentialRampToValueAtTime(100,t+.155),be.gain.setValueAtTime(.25,t+.145),be.gain.exponentialRampToValueAtTime(.001,t+.165),te.connect(be),be.connect(e.destination),te.start(t+.145),te.stop(t+.165)}catch(e){console.log("Audio generation failed:",e)}}window.addEventListener("load",()=>{$i(),qs(),Bs(),Cs();const e=document.getElementById("start-button");e&&e.addEventListener("click",()=>{$s();const h=document.querySelector(".camera-body");h&&(h.style.transition="all 0.1s",h.style.boxShadow="0 0 50px rgba(255, 255, 255, 1)",setTimeout(()=>{h.style.boxShadow=""},100));const y=document.querySelector(".lens-inner");y&&(y.style.transition="all 0.05s",y.style.transform="translate(-50%, -50%) scale(0.95)",setTimeout(()=>{y.style.transform="translate(-50%, -50%) scale(1)"},50)),setTimeout(()=>{xs()},300)});const t=document.getElementById("burst-toggle");t&&t.addEventListener("click",Ts);const a=document.getElementById("timer-toggle");a&&a.addEventListener("click",Es);const n=document.getElementById("random-toggle");n&&n.addEventListener("click",hs);const i=document.getElementById("motion-toggle");i&&i.addEventListener("click",es);const s=document.getElementById("menu-button");s&&s.addEventListener("click",rt);const l=document.getElementById("close-menu");l&&l.addEventListener("click",sa);const o=document.getElementById("jump-to-top");o&&o.addEventListener("click",Os);const r=document.getElementById("jump-to-bottom");r&&r.addEventListener("click",Ls);const u=document.getElementById("settings-menu-button");u&&u.addEventListener("click",Ae);const m=document.getElementById("settings-back");m&&m.addEventListener("click",Ms);const f=document.getElementById("resolution-settings-button");f&&f.addEventListener("click",Ns);const T=document.getElementById("resolution-back");T&&T.addEventListener("click",Kn);const E=document.getElementById("burst-settings-button");E&&E.addEventListener("click",Ds);const k=document.getElementById("burst-back");k&&k.addEventListener("click",Hs);const M=document.getElementById("timer-settings-button");M&&M.addEventListener("click",Ps);const K=document.getElementById("timer-settings-back");K&&K.addEventListener("click",Rs);const L=document.getElementById("master-prompt-settings-button");L&&L.addEventListener("click",zs);const ce=document.getElementById("master-prompt-back");ce&&ce.addEventListener("click",Us);const ye=document.getElementById("motion-settings-button");ye&&ye.addEventListener("click",as);const de=document.getElementById("motion-back");de&&de.addEventListener("click",ns);const ee=document.getElementById("white-balance-settings-button");ee&&ee.addEventListener("click",Ji);const te=document.getElementById("white-balance-back");te&&te.addEventListener("click",On);const be=document.getElementById("motion-sensitivity-slider"),ve=document.getElementById("motion-sensitivity-value");if(be&&ve){const h=["Very Low","Low","Medium","High","Very High"];be.addEventListener("input",y=>{const Qa=parseInt(y.target.value);ve.textContent=h[Qa-1],Re=50-Qa*10,ut(),Un()})}const lt=document.getElementById("motion-continuous-enabled");lt&&lt.addEventListener("change",h=>{Ie=h.target.checked,ut()});const ra=document.getElementById("motion-cooldown-slider"),la=document.getElementById("motion-cooldown-value");ra&&la&&ra.addEventListener("input",h=>{Oe=parseInt(h.target.value),la.textContent=`${Oe}s`,ut()});const ca=document.getElementById("motion-start-delay-slider"),da=document.getElementById("motion-start-delay-value");ca&&da&&ca.addEventListener("input",h=>{const y=parseInt(h.target.value);Le=We[y].seconds,da.textContent=We[y].label,ut()});const ua=document.getElementById("no-magic-toggle-button");ua&&ua.addEventListener("click",ss);const ma=document.getElementById("tutorial-button");ma&&ma.addEventListener("click",rs);const ha=document.getElementById("tutorial-back");ha&&ha.addEventListener("click",ls),document.querySelectorAll(".glossary-item").forEach(h=>{h.addEventListener("click",()=>{const y=h.getAttribute("data-section");cs(y)})});const ga=document.getElementById("back-to-glossary");ga&&ga.addEventListener("click",qn);const pa=document.getElementById("master-prompt-enabled");pa&&pa.addEventListener("change",h=>{le=h.target.checked;const y=document.getElementById("master-prompt-text");y&&(y.disabled=!le),un(),Et()});const fa=document.getElementById("master-prompt-text");fa&&fa.addEventListener("input",h=>{V=h.target.value;const y=document.getElementById("master-prompt-char-count");y&&(y.textContent=V.length),un(),Et()});const ya=document.getElementById("style-filter");let Lt=null;ya&&ya.addEventListener("input",h=>{ue=h.target.value,Lt&&clearTimeout(Lt),Lt=setTimeout(()=>{Wn()},150)});const ba=document.getElementById("add-style-menu");ba&&ba.addEventListener("click",()=>{xe=-1,Jn("Add New Style")});const va=document.getElementById("burst-count-slider"),Nt=document.getElementById("burst-speed-slider");va&&va.addEventListener("input",h=>{j=parseInt(h.target.value),document.getElementById("burst-count-value").textContent=j;const y=parseInt(Nt.value);ln(j,y),Tt(),me&&(p.textContent=`Burst mode ON (${j} photos) ‚Ä¢ ${g[b].name}`)}),Nt&&Nt.addEventListener("input",h=>{const y=parseInt(h.target.value);et=Pe[y].delay,document.getElementById("burst-speed-value").textContent=Pe[y].label,ln(j,y),Tt()});const wa=document.getElementById("timer-delay-slider"),Ta=document.getElementById("timer-delay-value");wa&&Ta&&wa.addEventListener("input",h=>{const y=parseInt(h.target.value)-1;Z=bn[y],Ta.textContent=Z,Vt(),Ye()});const Ea=document.getElementById("timer-repeat-enabled");Ea&&Ea.addEventListener("change",h=>{De=h.target.checked,Vt(),Ye()});const ka=document.getElementById("timer-repeat-interval-slider"),Ia=document.getElementById("timer-repeat-interval-value");ka&&Ia&&ka.addEventListener("input",h=>{const y=parseInt(h.target.value);tt=Ke[y].seconds,Ia.textContent=Ke[y].label,Vt(),Ye()}),ws(),ks(),is(),os();const xa=document.getElementById("reset-button");xa&&xa.addEventListener("click",Rt);const Sa=document.getElementById("camera-button");Sa&&Sa.addEventListener("click",vs);const Aa=document.getElementById("close-editor");Aa&&Aa.addEventListener("click",oa);const ja=document.getElementById("save-style");ja&&ja.addEventListener("click",Vs);const Ba=document.getElementById("delete-style");Ba&&Ba.addEventListener("click",_s),we=document.getElementById("connection-status"),Ce=document.getElementById("queue-status"),J=document.getElementById("sync-button"),J&&J.addEventListener("click",Ze),Ce&&Ce.addEventListener("click",ia);const Ca=document.getElementById("close-queue-manager");Ca&&Ca.addEventListener("click",Ss);const Ma=document.getElementById("sync-all");Ma&&Ma.addEventListener("click",Ze);const Pa=document.getElementById("clear-queue");Pa&&Pa.addEventListener("click",$n);const Ra=document.getElementById("gallery-button");Ra&&Ra.addEventListener("click",Y);const Oa=document.getElementById("close-gallery");Oa&&Oa.addEventListener("click",ni);const La=document.getElementById("close-viewer");La&&La.addEventListener("click",ri);const Na=document.getElementById("delete-viewer-image");Na&&Na.addEventListener("click",li);const Da=document.getElementById("gallery-start-date-btn"),Dt=document.getElementById("gallery-start-date");Da&&Dt&&(Da.addEventListener("click",()=>{Dt.showPicker()}),Dt.addEventListener("change",h=>{_e=h.target.value||null,sn("start",_e),Gt()}));const Ha=document.getElementById("gallery-end-date-btn"),Ht=document.getElementById("gallery-end-date");Ha&&Ht&&(Ha.addEventListener("click",()=>{Ht.showPicker()}),Ht.addEventListener("change",h=>{$e=h.target.value||null,sn("end",$e),Gt()}));const za=document.getElementById("gallery-sort-order");za&&za.addEventListener("change",h=>{Je=h.target.value;try{localStorage.setItem(kn,Je)}catch(y){console.error("Failed to save sort order:",y)}Gt()});const Ua=document.getElementById("prev-page");Ua&&Ua.addEventListener("click",si);const qa=document.getElementById("next-page");qa&&qa.addEventListener("click",ii);const Ga=document.getElementById("load-preset-button");Ga&&Ga.addEventListener("click",ci);const Fa=document.getElementById("multi-preset-button");Fa&&Fa.addEventListener("click",()=>{if(q>=0){const h=S[q].id;Ui(h)}});const Va=document.getElementById("close-preset-selector");Va&&Va.addEventListener("click",bt);const _a=document.getElementById("preset-filter");_a&&_a.addEventListener("input",h=>{ft=h.target.value,Ct()});const $a=document.getElementById("magic-button");$a&&$a.addEventListener("click",Oi);const Ya=document.getElementById("batch-mode-toggle");Ya&&Ya.addEventListener("click",vt);const Ka=document.getElementById("batch-select-all");Ka&&Ka.addEventListener("click",Li);const Wa=document.getElementById("batch-deselect-all");Wa&&Wa.addEventListener("click",Ni);const Ja=document.getElementById("batch-cancel");Ja&&Ja.addEventListener("click",vt);const Xa=document.getElementById("batch-apply-preset");Xa&&Xa.addEventListener("click",Di);const Za=document.getElementById("batch-delete");Za&&Za.addEventListener("click",zi),jt().then(async()=>{localStorage.getItem("r1_gallery_index")?(console.log("Migrating old gallery data..."),await ei()):await Bt()}).catch(h=>{console.error("Failed to initialize database:",h)}),Gi()});window.removeFromQueue=As;window.previewQueueItem=js;window.clearQueue=$n;console.log("AI Camera Styles app initialized!");
